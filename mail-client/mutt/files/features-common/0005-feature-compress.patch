# HG changeset patch
# User Alain Penders <Alain@Finale-Dev.com>
# Date 1453833065 0
#      Tue Jan 26 18:31:05 2016 +0000
# Branch gentoo-1.7
# Node ID 885f1d7126a4ffa099f9c0d8a311c1c7e9f2f74a
# Parent  a0c62e12a105147bc1d540ab7b4940cff309803f
From 145551e2fa969d6e124cafe310ac267e5e7b5ca6 Mon Sep 17 00:00:00 2001
[PATCH] feature: compress
From 145551e2fa969d6e124cafe310ac267e5e7b5ca6 Mon Sep 17 00:00:00 2001
Read from/write to compressed mailboxes
---
 Makefile.am  |   4 +-
 commands.c   |  31 +++
 compress.c   | 888 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 compress.h   |  29 ++
 configure.ac |   9 +
 curs_main.c  |   5 +
 hook.c       |  12 +
 init.h       |   5 +
 main.c       |   8 +-
 mutt.h       |   9 +
 mx.c         |  29 +-
 mx.h         |   4 +
 status.c     |   6 +
 13 files changed, 1035 insertions(+), 4 deletions(-)
 create mode 100644 compress.c
 create mode 100644 compress.h

diff -r a0c62e12a105 -r 885f1d7126a4 Makefile.am
--- a/Makefile.am	Mon Feb 01 01:04:48 2016 +0000
+++ b/Makefile.am	Tue Jan 26 18:31:05 2016 +0000
@@ -50,7 +50,7 @@ DEFS=-DPKGDATADIR=\"$(pkgdatadir)\" -DSY
 
 AM_CPPFLAGS=-I. -I$(top_srcdir) $(IMAP_INCLUDES) $(GPGME_CFLAGS) -Iintl
 
-EXTRA_mutt_SOURCES = account.c bcache.c crypt-gpgme.c crypt-mod-pgp-classic.c \
+EXTRA_mutt_SOURCES = account.c bcache.c compress.c crypt-gpgme.c crypt-mod-pgp-classic.c \
 	crypt-mod-pgp-gpgme.c crypt-mod-smime-classic.c \
 	crypt-mod-smime-gpgme.c dotlock.c gnupgparse.c hcache.c md5.c \
 	mutt_idna.c mutt_sasl.c mutt_socket.c mutt_ssl.c mutt_ssl_gnutls.c \
@@ -61,7 +61,7 @@ EXTRA_mutt_SOURCES = account.c bcache.c 
 
 EXTRA_DIST = COPYRIGHT GPL OPS OPS.PGP OPS.CRYPT OPS.SMIME TODO UPDATING \
 	configure account.h \
-	attach.h buffy.h charset.h copy.h crypthash.h dotlock.h functions.h gen_defs \
+	attach.h buffy.h charset.h compress.h copy.h crypthash.h dotlock.h functions.h gen_defs \
 	globals.h hash.h history.h init.h keymap.h mutt_crypt.h \
 	mailbox.h mapping.h md5.h mime.h mutt.h mutt_curses.h mutt_menu.h \
 	mutt_regex.h mutt_sasl.h mutt_socket.h mutt_ssl.h mutt_tunnel.h \
diff -r a0c62e12a105 -r 885f1d7126a4 PATCHES
--- a/PATCHES	Mon Feb 01 01:04:48 2016 +0000
+++ b/PATCHES	Tue Jan 26 18:31:05 2016 +0000
@@ -1,3 +1,4 @@
+patch-compress-neomutt
 patch-cond-date-neomutt
 patch-nested-if-neomutt
 patch-initials-neomutt
diff -r a0c62e12a105 -r 885f1d7126a4 commands.c
--- a/commands.c	Mon Feb 01 01:04:48 2016 +0000
+++ b/commands.c	Tue Jan 26 18:31:05 2016 +0000
@@ -837,6 +837,16 @@ int mutt_save_message (HEADER *h, int de
 
   if (mx_open_mailbox (buf, MUTT_APPEND, &ctx) != NULL)
   {
+#ifdef USE_COMPRESSED
+    /* If we're saving to a compressed mailbox, the stats won't be updated
+     * until the next open.  Until then, improvise. */
+    BUFFY *cm = NULL;
+    if (ctx.compress_info)
+      cm = mutt_find_mailbox (ctx.realpath);
+    /* We probably haven't been opened yet */
+    if (cm && (cm->msg_count == 0))
+      cm = NULL;
+#endif
     if (h)
     {
       if (_mutt_save_message(h, &ctx, delete, decode, decrypt) != 0)
@@ -844,6 +854,16 @@ int mutt_save_message (HEADER *h, int de
         mx_close_mailbox (&ctx, NULL);
         return -1;
       }
+#ifdef USE_COMPRESSED
+      if (cm)
+      {
+        cm->msg_count++;
+        if (!h->read)
+          cm->msg_unread++;
+        if (h->flagged)
+          cm->msg_flagged++;
+      }
+#endif
     }
     else
     {
@@ -858,6 +878,17 @@ int mutt_save_message (HEADER *h, int de
             mx_close_mailbox (&ctx, NULL);
             return -1;
           }
+#ifdef USE_COMPRESSED
+          if (cm)
+          {
+            HEADER *h = Context->hdrs[Context->v2r[i]];
+            cm->msg_count++;
+            if (!h->read)
+              cm->msg_unread++;
+            if (h->flagged)
+              cm->msg_flagged++;
+          }
+#endif
 	}
       }
     }
diff -r a0c62e12a105 -r 885f1d7126a4 compress.c
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/compress.c	Tue Jan 26 18:31:05 2016 +0000
@@ -0,0 +1,888 @@
+/* Copyright (C) 1997 Alain Penders <Alain@Finale-Dev.com>
+ * Copyright (C) 2016 Richard Russon <rich@flatcap.org>
+ *
+ *     This program is free software; you can redistribute it and/or modify
+ *     it under the terms of the GNU General Public License as published by
+ *     the Free Software Foundation; either version 2 of the License, or
+ *     (at your option) any later version.
+ *
+ *     This program is distributed in the hope that it will be useful,
+ *     but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *     GNU General Public License for more details.
+ *
+ *     You should have received a copy of the GNU General Public License
+ *     along with this program; if not, write to the Free Software
+ *     Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
+ */
+
+#if HAVE_CONFIG_H
+#include "config.h"
+#endif
+
+#include <errno.h>
+#include <string.h>
+#include <sys/stat.h>
+#include <unistd.h>
+
+#include "mutt.h"
+#include "mailbox.h"
+#include "mutt_curses.h"
+#include "mx.h"
+
+/* Notes:
+ * Any references to compressed files also apply to encrypted files.
+ * ctx->path     == plaintext file
+ * ctx->realpath == compressed file
+ */
+
+/**
+ * struct COMPRESS_INFO - Private data for compress
+ *
+ * This object gets attached to the mailbox's CONTEXT.
+ */
+typedef struct
+{
+	const char *append;             /* append-hook command */
+	const char *close;              /* close-hook  command */
+	const char *open;               /* open-hook   command */
+	off_t size;                     /* size of the compressed file */
+	struct mx_ops *child_ops;       /* callbacks of de-compressed file */
+} COMPRESS_INFO;
+
+
+/**
+ * lock_mailbox - Try to lock a mailbox (exclusively)
+ * @ctx:  Mailbox to lock
+ * @fp:   File pointer to the mailbox file
+ * @excl: Lock exclusively?
+ *
+ * Try to (exclusively) lock the mailbox.  If we succeed, then we mark the
+ * mailbox as locked.  If we fail, but we didn't want exclusive rights, then
+ * the mailbox will be marked readonly.
+ *
+ * Returns:
+ *	1: Success (locked or readonly)
+ *	0: Error (can't lock the file)
+ */
+static int
+lock_mailbox (CONTEXT *ctx, FILE *fp, int excl)
+{
+	if (!ctx || !fp)
+		return 0;
+
+	int r = mx_lock_file (ctx->realpath, fileno (fp), excl, 1, 1);
+
+	if (r == 0) {
+		ctx->locked = 1;
+	} else if (excl == 0) {
+		ctx->readonly = 1;
+		return 1;
+	}
+
+	return (r == 0);
+}
+
+/**
+ * unlock_mailbox - Unlock a mailbox
+ * @ctx: Mailbox to unlock
+ * @fp:  File pointer to mailbox file
+ *
+ * Unlock a mailbox previously locked by lock_mailbox().
+ */
+static void
+unlock_mailbox (CONTEXT *ctx, FILE *fp)
+{
+	if (!ctx || !fp)
+		return;
+
+	if (!ctx->locked)
+		return;
+
+	fflush (fp);
+
+	mx_unlock_file (ctx->realpath, fileno (fp), 1);
+	ctx->locked = 0;
+}
+
+/**
+ * setup_paths - Set the mailbox paths
+ * @ctx: Mailbox to modify
+ *
+ * Save the compressed filename in ctx->realpath.
+ * Create a temporary filename and put its name in ctx->path.
+ *
+ * Note: The temporary file is NOT created.
+ * Note: ctx->path will be freed by restore_path()
+ */
+static void
+setup_paths (CONTEXT *ctx)
+{
+	if (!ctx)
+		return;
+
+	char tmppath[_POSIX_PATH_MAX];
+
+	/* Setup the right paths */
+	ctx->realpath = ctx->path;
+
+	/* We will uncompress to /tmp */
+	mutt_mktemp (tmppath, sizeof (tmppath));
+	ctx->path = safe_strdup (tmppath);
+}
+
+/**
+ * restore_path - Put back the original mailbox name
+ * @ctx: Mailbox to modify
+ *
+ * When we use a compressed mailbox, we change the CONTEXT to refer to the
+ * uncompressed file.  We store the original name in ctx->realpath.
+ *	ctx->path     = "/tmp/mailbox"
+ *	ctx->realpath = "mailbox.gz"
+ *
+ * When we have finished with a compressed mailbox, we put back the original
+ * name.
+ *	ctx->path     = "mailbox.gz"
+ *	ctx->realpath = NULL
+ */
+static void
+restore_path (CONTEXT *ctx)
+{
+	if (!ctx)
+		return;
+
+	FREE(&ctx->path);
+	ctx->path = ctx->realpath;
+	ctx->realpath = NULL;
+}
+
+/**
+ * get_size - Get the size of a file
+ * @path: File to measure
+ *
+ * Returns:
+ *	number: Size in bytes
+ *	0:      On error
+ */
+static int
+get_size (const char *path)
+{
+	if (!path)
+		return 0;
+
+	struct stat sb;
+	if (stat (path, &sb) != 0)
+		return 0;
+
+	return sb.st_size;
+}
+
+/**
+ * store_size - Save the size of the compressed file
+ * @ctx: Mailbox
+ *
+ * Save the compressed file size in the compress_info struct.
+ */
+static void
+store_size (const CONTEXT *ctx)
+{
+	if (!ctx)
+		return;
+
+	COMPRESS_INFO *ci = ctx->compress_info;
+	if (!ci)
+		return;
+
+	ci->size = get_size (ctx->realpath);
+}
+
+/**
+ * find_hook - Find a hook to match a path
+ * @type: Type of hook, e.g. MUTT_CLOSEHOOK
+ * @path: Filename to test
+ *
+ * Each hook has a type and a pattern.
+ * Find a command that matches the type and path supplied. e.g.
+ *
+ * User config:
+ *	open-hook '\.gz$' "gzip -cd '%f' > '%t'"
+ *
+ * Call:
+ *	find_hook (MUTT_OPENHOOK, "myfile.gz");
+ *
+ * Returns:
+ *	string: Matching hook command
+ *	NULL:   No matches
+ */
+static const char *
+find_hook (int type, const char *path)
+{
+	if (!path)
+		return NULL;
+
+	const char *c = mutt_find_hook (type, path);
+	if (!c || !*c)
+		return NULL;
+
+	return c;
+}
+
+/**
+ * set_compress_info - Find the compress hooks for a mailbox
+ * @ctx: Mailbox to examine
+ *
+ * When a mailbox is opened, we check if there are any matching hooks.
+ *
+ * Note: Caller must free the COMPRESS_INFO when done.
+ *
+ * Returns:
+ *	COMPRESS_INFO: Hook info for the mailbox's path
+ *	NULL:          On error
+ */
+static COMPRESS_INFO *
+set_compress_info (CONTEXT *ctx)
+{
+	if (!ctx || !ctx->path)
+		return NULL;
+
+	if (ctx->compress_info)
+		return ctx->compress_info;
+
+	/* Open is compulsory */
+	const char *o = find_hook (MUTT_OPENHOOK,   ctx->path);
+	if (!o)
+		return NULL;
+
+	const char *c = find_hook (MUTT_CLOSEHOOK,  ctx->path);
+	const char *a = find_hook (MUTT_APPENDHOOK, ctx->path);
+
+	COMPRESS_INFO *ci = safe_calloc (1, sizeof (COMPRESS_INFO));
+	ctx->compress_info = ci;
+
+	ci->open   = o;
+	ci->close  = c;
+	ci->append = a;
+
+	return ci;
+}
+
+/**
+ * cb_format_str - Expand the filenames in the command string
+ * @dest:        Buffer in which to save string
+ * @destlen:     Buffer length
+ * @col:         Starting column, UNUSED
+ * @cols:        Number of screen columns, UNUSED
+ * @op:          printf-like operator, e.g. 't'
+ * @src:         printf-like format string
+ * @fmt:         Field formatting string, UNUSED
+ * @ifstring:    If condition is met, display this string, UNUSED
+ * @elsestring:  Otherwise, display this string, UNUSED
+ * @data:        Pointer to the mailbox CONTEXT
+ * @flags:       Format flags, UNUSED
+ *
+ * cb_format_str is a callback function for mutt_FormatString.  It understands
+ * two operators. '%f' : 'from' filename, '%t' : 'to' filename.
+ *
+ * Returns: src (unchanged)
+ */
+static const char *
+cb_format_str (char *dest, size_t destlen, size_t col, int cols, char op, const char *src,
+	const char *fmt, const char *ifstring, const char *elsestring,
+	unsigned long data, format_flag flags)
+{
+	if (!dest || (data == 0))
+		return src;
+
+	CONTEXT *ctx = (CONTEXT *) data;
+
+	switch (op) {
+		case 'f':
+			/* Compressed file */
+			snprintf (dest, destlen, "%s", ctx->realpath);
+			break;
+		case 't':
+			/* Plaintext, temporary file */
+			snprintf (dest, destlen, "%s", ctx->path);
+			break;
+	}
+	return src;
+}
+
+/**
+ * expand_command_str - Expand placeholders in command string
+ * @ctx:    Mailbox for paths
+ * @buf:    Buffer to store the command
+ * @buflen: Size of the buffer
+ *
+ * This function takes a hook command and expands the filename placeholders
+ * within it.  The function calls mutt_FormatString() to do the replacement
+ * which calls our callback function cb_format_str(). e.g.
+ *
+ * Template command:
+ *	gzip -cd '%f' > '%t'
+ *
+ * Result:
+ *	gzip -dc '~/mail/abc.gz' > '/tmp/xyz'
+ */
+static void
+expand_command_str (const CONTEXT *ctx, const char *cmd, char *buf, int buflen)
+{
+	if (!ctx || !cmd || !buf)
+		return;
+
+	mutt_FormatString (buf, buflen, 0, buflen, cmd, cb_format_str, (unsigned long) ctx, 0);
+}
+
+/**
+ * execute_command - Run a system command
+ * @ctx:         Mailbox to work with
+ * @command:     Command string to execute
+ * @create_file: Should the tmp file be created?
+ * @progress:    Message to show the user
+ *
+ * Run the supplied command, taking care of all the Mutt requirements,
+ * such as locking files and blocking signals.
+ *
+ * Returns:
+ *	1: Success
+ *	0: Failure
+ */
+static int
+execute_command (CONTEXT *ctx, const char *command, int create_file, const char *progress)
+{
+	if (!ctx || !command || !progress)
+		return 0;
+
+	if (!ctx->quiet)
+		mutt_message (progress, ctx->realpath);
+
+	FILE *fp;
+	if (create_file)
+		fp = fopen (ctx->realpath, "a");
+	else
+		fp = fopen (ctx->realpath, "r");
+
+	if (!fp) {
+		mutt_perror (ctx->realpath);
+		return 0;
+	}
+
+	mutt_block_signals();
+        /* If we're creating the file, lock it exclusively */
+	if (!lock_mailbox (ctx, fp, create_file)) {
+		safe_fclose (&fp);
+		mutt_unblock_signals();
+		mutt_error (_("Unable to lock mailbox!"));
+		return 0;
+	}
+
+	endwin();
+	fflush (stdout);
+
+	char sys_cmd[HUGE_STRING];
+
+	expand_command_str (ctx, command, sys_cmd, sizeof (sys_cmd));
+
+	int rc = mutt_system (sys_cmd);
+	if (rc != 0) {
+		mutt_any_key_to_continue (NULL);
+		mutt_error (_("Error executing: %s\n"), sys_cmd);
+	}
+
+	unlock_mailbox (ctx, fp);
+	mutt_unblock_signals();
+	safe_fclose (&fp);
+
+	return 1;
+}
+
+/**
+ * open_read - Open a compressed mailbox for reading
+ * @ctx: Mailbox to open
+ *
+ * Decompress the mailbox and set up the paths and hooks needed.
+ *
+ * Note: The message handling will be delegated to the mbox code.
+ *
+ * Returns:
+ *	1: Success
+ *	0: Failure
+ */
+static int
+open_read (CONTEXT *ctx)
+{
+	if (!ctx)
+		return 0;
+
+	COMPRESS_INFO *ci = set_compress_info (ctx);
+	if (!ci) {
+		ctx->magic = 0;
+		return 0;
+	}
+
+	/* If there's no close-hook, or the file isn't writable */
+	if (!ci->close || (access (ctx->path, W_OK) != 0))
+		ctx->readonly = 1;
+
+	setup_paths (ctx);
+	store_size (ctx);
+
+	int rc = execute_command (ctx, ci->open, 0, _("Decompressing %s"));
+	if (rc == 0) {
+		goto or_fail;
+	}
+
+	ctx->magic = mx_get_magic (ctx->path);
+	if (ctx->magic == 0) {
+		mutt_error (_("Can't identify the contents of the compressed file"));
+		goto or_fail;
+	}
+
+	ci->child_ops = mx_get_ops (ctx->magic);
+	if (!ci->child_ops) {
+		mutt_error (_("Can't find mailbox ops for mailbox type %d"), ctx->magic);
+		goto or_fail;
+	}
+
+	return 1;
+
+or_fail:
+	/* remove the partial uncompressed file */
+	remove (ctx->path);
+	restore_path (ctx);
+	return 0;
+}
+
+
+struct mx_ops mx_comp_ops;
+
+/**
+ * open_mailbox - Open a compressed mailbox
+ * @ctx: Mailbox to open
+ *
+ * Set up a compressed mailbox to be read.
+ * First call open_read() to decompress the file.
+ * Then determine the type of the mailbox so we can delegate the handling of
+ * messages.
+ */
+static int
+open_mailbox (CONTEXT *ctx)
+{
+	if (!ctx || (ctx->magic != MUTT_COMPRESSED))
+		return 1;
+
+	if (!open_read (ctx))
+		return 1;
+
+	COMPRESS_INFO *ci = ctx->compress_info;
+	if (!ci)
+		return 1;
+
+	struct mx_ops *ops = ci->child_ops;
+	if (!ops)
+		return 1;
+
+	/* Delegate */
+	return ops->open (ctx);
+}
+
+/**
+ * open_append_mailbox - Open a compressed mailbox for appending
+ * @ctx:   Mailbox to open
+ * @flags: e.g. Does the file already exist?
+ *
+ * To append to a compressed mailbox we need an append-hook (or both open- and
+ * close-hooks).
+ *
+ * Returns:
+ *	 0: Success
+ *	-1: Failure
+ */
+static int
+open_append_mailbox (CONTEXT *ctx, int flags)
+{
+	if (!ctx)
+		return -1;
+
+	/* If this succeeds, we know there's an open-hook */
+	COMPRESS_INFO *ci = set_compress_info (ctx);
+	if (!ci)
+		return -1;
+
+	/* To append we need an append-hook or a close-hook */
+	if (!ci->append && !ci->close) {
+		FREE(&ctx->compress_info);
+                mutt_error (_("Cannot append without an append-hook or close-hook : %s"), ctx->path);
+		return -1;
+	}
+
+	ctx->magic = DefaultMagic;
+        /* We can only deal with mbox and mmdf mailboxes */
+	if ((ctx->magic != MUTT_MBOX) && (ctx->magic != MUTT_MMDF))
+		return -1;
+
+	setup_paths (ctx);
+
+	ctx->mx_ops = &mx_comp_ops;
+	ci->child_ops = mx_get_ops (ctx->magic);
+	if (!ci->child_ops) {
+		mutt_error (_("Can't find mailbox ops for mailbox type %d"), ctx->magic);
+		return -1;
+	}
+
+        if (ci->append) {
+		/* Create an empty temporary file */
+		ctx->fp = safe_fopen (ctx->path, "w");
+		if (!ctx->fp) {
+                        mutt_perror (ctx->path);
+			goto oa_fail;
+                }
+	} else {
+		/* Open the existing mailbox */
+		int rc = execute_command (ctx, ci->open, 0, _("Decompressing %s"));
+		if (rc == 0) {
+                        mutt_error (_("Compress command failed: %s"), ci->open);
+			goto oa_fail;
+                }
+		ctx->fp = safe_fopen (ctx->path, "a");
+		if (!ctx->fp) {
+                        mutt_perror (ctx->path);
+			goto oa_fail;
+                }
+	}
+
+	return 0;
+
+oa_fail:
+	/* remove the partial uncompressed file */
+	remove (ctx->path);
+	restore_path (ctx);
+	return -1;
+}
+
+/**
+ * close_mailbox - Close a compressed mailbox
+ * @ctx: Mailbox to close
+ *
+ * If the mailbox has been changed then re-compress the tmp file.
+ * Then delete the tmp file.
+ *
+ * Returns:
+ *	 0: Success
+ *	-1: Failure
+ */
+static int
+close_mailbox (CONTEXT *ctx)
+{
+	if (!ctx)
+		return -1;
+
+	COMPRESS_INFO *ci = ctx->compress_info;
+	if (!ci)
+		return -1;
+
+	safe_fclose (&ctx->fp);
+
+	/* sync has already been called, so we only need to delete some files */
+	if (!ctx->append) {
+		/* If the file was removed, remove the compressed folder too */
+		if ((access (ctx->path, F_OK) != 0) && !option (OPTSAVEEMPTY)) {
+			remove (ctx->realpath);
+		} else {
+			remove (ctx->path);
+		}
+
+		restore_path (ctx);
+		FREE(&ctx->compress_info);
+		return 0;
+	}
+
+	const char *append;
+	const char *msg;
+
+	/* The file exists and we can append */
+	if ((access (ctx->realpath, F_OK) == 0) && ci->append) {
+		append = ci->append;
+		msg = _("Compressed-appending to %s...");
+        } else {
+		append = ci->close;
+		msg = _("Compressing %s...");
+        }
+
+	int rc = execute_command (ctx, append, 1, msg);
+	if (rc == 0) {
+		mutt_any_key_to_continue (NULL);
+		mutt_error (_(" %s: Error compressing mailbox!  Uncompressed one kept!\n"), ctx->path);
+	}
+
+	remove (ctx->path);
+	restore_path (ctx);
+	FREE(&ctx->compress_info);
+
+	return 0;
+}
+
+/**
+ * check_mailbox - Check for changes in the compressed file
+ * @ctx: Mailbox
+ *
+ * If the compressed file changes in size but the mailbox hasn't been changed
+ * in Mutt, then we can close and reopen the mailbox.
+ *
+ * If the mailbox has been changed in Mutt, warn the user.
+ *
+ * The return codes are picked to match mx_check_mailbox().
+ *
+ * Returns:
+ *	0:              Mailbox OK
+ *	MUTT_REOPENED:  The mailbox was closed and reopened
+ *	-1:             Mailbox bad
+ */
+static int
+check_mailbox (CONTEXT *ctx, int *index_hint)
+{
+	if (!ctx)
+		return -1;
+
+	COMPRESS_INFO *ci = ctx->compress_info;
+	if (!ci)
+		return -1;
+
+        int size = get_size (ctx->realpath);
+        if (size == ci->size)
+		return 0;
+
+	if (ctx->changed) {
+		FREE(&ctx->compress_info);
+		restore_path (ctx);
+		mutt_error (_("Mailbox was corrupted!"));
+		return -1;
+	}
+
+	close_mailbox (ctx);
+
+	const char *path = ctx->path;
+	ctx->path = NULL;
+
+	mx_open_mailbox (path, 0, ctx);
+	FREE(&path);
+
+	return MUTT_REOPENED;
+}
+
+
+/**
+ * open_message - Delegated to mbox handler
+ */
+static int
+open_message (CONTEXT *ctx,  MESSAGE *msg, int msgno)
+{
+	if (!ctx)
+		return -1;
+
+	COMPRESS_INFO *ci = ctx->compress_info;
+	if (!ci)
+		return -1;
+
+	struct mx_ops *ops = ci->child_ops;
+	if (!ops)
+		return -1;
+
+	/* Delegate */
+	return ops->open_msg (ctx, msg, msgno);
+}
+
+/**
+ * close_message - Delegated to mbox handler
+ */
+static int
+close_message (CONTEXT *ctx, MESSAGE *msg)
+{
+	if (!ctx)
+		return -1;
+
+	COMPRESS_INFO *ci = ctx->compress_info;
+	if (!ci)
+		return -1;
+
+	struct mx_ops *ops = ci->child_ops;
+	if (!ops)
+		return -1;
+
+	/* Delegate */
+	return ops->close_msg (ctx, msg);
+}
+
+/**
+ * commit_message - Delegated to mbox handler
+ */
+static int
+commit_message (CONTEXT *ctx, MESSAGE *msg)
+{
+	if (!ctx)
+		return -1;
+
+	COMPRESS_INFO *ci = ctx->compress_info;
+	if (!ci)
+		return -1;
+
+	struct mx_ops *ops = ci->child_ops;
+	if (!ops)
+		return -1;
+
+	/* Delegate */
+	return ops->commit_msg (ctx, msg);
+}
+
+/**
+ * open_new_message - Delegated to mbox handler
+ */
+static int
+open_new_message (MESSAGE *msg, CONTEXT *ctx, HEADER *hdr)
+{
+	if (!ctx)
+		return -1;
+
+	COMPRESS_INFO *ci = ctx->compress_info;
+	if (!ci)
+		return -1;
+
+	struct mx_ops *ops = ci->child_ops;
+	if (!ops)
+		return -1;
+
+	/* Delegate */
+	return ops->open_new_msg (msg, ctx, hdr);
+}
+
+
+/**
+ * comp_can_append - Can we append to this path?
+ * @path: pathname of file to be tested
+ *
+ * To append to a file we can either use an 'append-hook' or a combination of
+ * 'open-hook' and 'close-hook'.
+ *
+ * A match means it's our responsibility to append to the file.
+ *
+ * Returns:
+ *	1: Yes, we can append to the file
+ *	0: No, appending isn't possible
+ */
+int
+comp_can_append (CONTEXT *ctx)
+{
+	if (!ctx)
+		return 0;
+
+	/* If this succeeds, we know there's an open-hook */
+	COMPRESS_INFO *ci = set_compress_info (ctx);
+	if (!ci)
+		return 0;
+
+	/* We have an open-hook, so to append we need an append-hook,
+	 * or a close-hook. */
+	if (ci->append || ci->close)
+		return 1;
+
+        mutt_error (_("Cannot append without an append-hook or close-hook : %s"), ctx->path);
+	return 0;
+}
+
+/**
+ * comp_can_read - Can we read from this file?
+ * @path: Pathname of file to be tested
+ *
+ * Search for an 'open-hook' with a regex that matches the path.
+ *
+ * A match means it's our responsibility to open the file.
+ *
+ * Returns:
+ *	1: Yes, we can read the file
+ *	0: No, we cannot read the file
+ */
+int
+comp_can_read (const char *path)
+{
+	if (!path)
+		return 0;
+
+	if (find_hook (MUTT_OPENHOOK, path))
+		return 1;
+	else
+		return 0;
+}
+
+/**
+ * comp_sync - Save changes to the compressed mailbox file
+ * @ctx: Mailbox to sync
+ *
+ * Changes in Mutt only affect the tmp file.  Calling comp_sync() will commit
+ * them to the compressed file.
+ *
+ * Returns:
+ *	 0: Success
+ *	-1: Failure
+ */
+int
+comp_sync (CONTEXT *ctx)
+{
+	if (!ctx)
+		return -1;
+
+	COMPRESS_INFO *ci = ctx->compress_info;
+	if (!ci)
+		return -1;
+
+	if (!ci->close) {
+		mutt_error (_("Can't sync a compressed file without a close-hook"));
+		return -1;
+	}
+
+	int rc = execute_command (ctx, ci->close, 1, _("Compressing %s"));
+	if (rc == 0)
+		return -1;
+
+	store_size (ctx);
+
+	return 0;
+}
+
+/**
+ * comp_valid_command - Is this command string allowed?
+ * @cmd:  Command string
+ *
+ * A valid command string must have both "%f" (from file) and "%t" (to file).
+ * We don't check if we can actually run the command.
+ *
+ * Returns:
+ *	1: Valid command
+ *	0: "%f" and/or "%t" is missing
+ */
+int
+comp_valid_command (const char *cmd)
+{
+	if (!cmd)
+		return 0;
+
+	return (strstr (cmd, "%f") && strstr (cmd, "%t"));
+}
+
+
+/**
+ * mx_comp_ops - Mailbox callback functions
+ *
+ * Compress only uses open, close and check.
+ * The message functions are delegated to mbox.
+ */
+struct mx_ops mx_comp_ops = {
+	.open         = open_mailbox,
+        .open_append  = open_append_mailbox,
+	.close        = close_mailbox,
+	.check        = check_mailbox,
+	.open_msg     = open_message,
+	.close_msg    = close_message,
+	.commit_msg   = commit_message,
+	.open_new_msg = open_new_message
+};
+
diff -r a0c62e12a105 -r 885f1d7126a4 compress.h
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/compress.h	Tue Jan 26 18:31:05 2016 +0000
@@ -0,0 +1,29 @@
+/* Copyright (C) 1997 Alain Penders <Alain@Finale-Dev.com>
+ * Copyright (C) 2016 Richard Russon <rich@flatcap.org>
+ *
+ *     This program is free software; you can redistribute it and/or modify
+ *     it under the terms of the GNU General Public License as published by
+ *     the Free Software Foundation; either version 2 of the License, or
+ *     (at your option) any later version.
+ *
+ *     This program is distributed in the hope that it will be useful,
+ *     but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *     GNU General Public License for more details.
+ *
+ *     You should have received a copy of the GNU General Public License
+ *     along with this program; if not, write to the Free Software
+ *     Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
+ */
+
+#ifndef _COMPRESS_H_
+#define _COMPRESS_H_
+
+int comp_can_append    (CONTEXT *ctx);
+int comp_can_read      (const char *path);
+int comp_sync          (CONTEXT *ctx);
+int comp_valid_command (const char *cmd);
+
+extern struct mx_ops mx_comp_ops;
+
+#endif /* _COMPRESS_H_ */
diff -r a0c62e12a105 -r 885f1d7126a4 configure.ac
--- a/configure.ac	Mon Feb 01 01:04:48 2016 +0000
+++ b/configure.ac	Tue Jan 26 18:31:05 2016 +0000
@@ -183,6 +183,15 @@ AC_ARG_ENABLE(sidebar, AC_HELP_STRING([-
         fi
 ])
 
+AC_ARG_ENABLE(compressed, AC_HELP_STRING([--enable-compressed], [Enable compressed folders support]),
+              enable_compressed=$enableval, enable_compressed=no
+)
+AS_IF([test x$enable_compressed = "xyes"], [
+	   AC_DEFINE(USE_COMPRESSED, 1, [Define to enable compressed folders support.])
+	   MUTT_LIB_OBJECTS="$MUTT_LIB_OBJECTS compress.o"
+])
+AM_CONDITIONAL(BUILD_COMPRESS, test x$enable_compressed = xyes)
+
 AC_ARG_WITH(mixmaster, AS_HELP_STRING([--with-mixmaster@<:@=PATH@:>@],[Include Mixmaster support]),
   [if test "$withval" != no
    then
diff -r a0c62e12a105 -r 885f1d7126a4 curs_main.c
--- a/curs_main.c	Mon Feb 01 01:04:48 2016 +0000
+++ b/curs_main.c	Tue Jan 26 18:31:05 2016 +0000
@@ -1241,6 +1241,11 @@ int mutt_index_menu (void)
         {
 	  int check;
 
+#ifdef USE_COMPRESSED
+	  if (Context->compress_info && Context->realpath)
+	    mutt_str_replace (&LastFolder, Context->realpath);
+	  else
+#endif
 	  mutt_str_replace (&LastFolder, Context->path);
 	  oldcount = Context ? Context->msgcount : 0;
 
diff -r a0c62e12a105 -r 885f1d7126a4 doc/Muttrc.head
--- a/doc/Muttrc.head	Mon Feb 01 01:04:48 2016 +0000
+++ b/doc/Muttrc.head	Tue Jan 26 18:31:05 2016 +0000
@@ -29,6 +29,11 @@ macro generic,pager <F1> "<shell-escape>
 macro index,pager y "<change-folder>?<toggle-mailboxes>" "show incoming mailboxes list"
 bind browser y exit
 
+# Use folders which match on \\.gz$ as gzipped folders:
+# open-hook \\.gz$ "gzip -cd %f > %t"
+# close-hook \\.gz$ "gzip -c %t > %f"
+# append-hook \\.gz$ "gzip -c %t >> %f"
+
 # If Mutt is unable to determine your site's domain name correctly, you can
 # set the default here.
 #
diff -r a0c62e12a105 -r 885f1d7126a4 doc/muttrc.man.head
--- a/doc/muttrc.man.head	Mon Feb 01 01:04:48 2016 +0000
+++ b/doc/muttrc.man.head	Tue Jan 26 18:31:05 2016 +0000
@@ -358,7 +358,24 @@ You may use multiple
 \fBcrypt-hook\fPs with the same \fIregexp\fP; multiple matching
 \fBcrypt-hook\fPs result in the use of multiple \fIkey-id\fPs for
 a recipient.
-
+.PP
+.nf
+\fBopen-hook\fP \fIregexp\fP "\fIcommand\fP"
+\fBclose-hook\fP \fIregexp\fP "\fIcommand\fP"
+\fBappend-hook\fP \fIregexp\fP "\fIcommand\fP"
+.fi
+.IP
+These commands provide a way to handle compressed folders. The given
+\fBregexp\fP specifies which folders are taken as compressed (e.g.
+"\fI\\\\.gz$\fP"). The commands tell Mutt how to uncompress a folder
+(\fBopen-hook\fP), compress a folder (\fBclose-hook\fP) or append a
+compressed mail to a compressed folder (\fBappend-hook\fP). The
+\fIcommand\fP string is the
+.BR printf (3)
+like format string, and it should accept two parameters: \fB%f\fP,
+which is replaced with the (compressed) folder name, and \fB%t\fP
+which is replaced with the name of the temporary folder to which to
+write.
 .TP
 \fBpush\fP \fIstring\fP
 This command adds the named \fIstring\fP to the keyboard buffer.
diff -r a0c62e12a105 -r 885f1d7126a4 hook.c
--- a/hook.c	Mon Feb 01 01:04:48 2016 +0000
+++ b/hook.c	Tue Jan 26 18:31:05 2016 +0000
@@ -24,6 +24,10 @@
 #include "mailbox.h"
 #include "mutt_crypt.h"
 
+#ifdef USE_COMPRESSED
+#include "compress.h"
+#endif
+
 #include <limits.h>
 #include <string.h>
 #include <stdlib.h>
@@ -109,6 +113,14 @@ int mutt_parse_hook (BUFFER *buf, BUFFER
     memset (&pattern, 0, sizeof (pattern));
     pattern.data = safe_strdup (path);
   }
+#ifdef USE_COMPRESSED
+  else if (data & (MUTT_APPENDHOOK | MUTT_OPENHOOK | MUTT_CLOSEHOOK)) {
+    if (comp_valid_command (command.data) == 0) {
+      strfcpy (err->data, _("badly formatted command string"), err->dsize);
+      return -1;
+    }
+  }
+#endif
   else if (DefaultHook && !(data & (MUTT_CHARSETHOOK | MUTT_ICONVHOOK | MUTT_ACCOUNTHOOK))
            && (!WithCrypto || !(data & MUTT_CRYPTHOOK))
       )
diff -r a0c62e12a105 -r 885f1d7126a4 init.h
--- a/init.h	Mon Feb 01 01:04:48 2016 +0000
+++ b/init.h	Tue Jan 26 18:31:05 2016 +0000
@@ -3909,6 +3909,11 @@ const struct command_t Commands[] = {
   { "fcc-hook",		mutt_parse_hook,	MUTT_FCCHOOK },
   { "fcc-save-hook",	mutt_parse_hook,	MUTT_FCCHOOK | MUTT_SAVEHOOK },
   { "folder-hook",	mutt_parse_hook,	MUTT_FOLDERHOOK },
+#ifdef USE_COMPRESSED
+  { "open-hook",	mutt_parse_hook,	MUTT_OPENHOOK },
+  { "close-hook",	mutt_parse_hook,	MUTT_CLOSEHOOK },
+  { "append-hook",	mutt_parse_hook,	MUTT_APPENDHOOK },
+#endif
   { "group",		parse_group,		MUTT_GROUP },
   { "ungroup",		parse_group,		MUTT_UNGROUP },
   { "hdr_order",	parse_list,		UL &HeaderOrderList },
diff -r a0c62e12a105 -r 885f1d7126a4 mutt.h
--- a/mutt.h	Mon Feb 01 01:04:48 2016 +0000
+++ b/mutt.h	Tue Jan 26 18:31:05 2016 +0000
@@ -154,6 +154,11 @@ typedef enum
 #define MUTT_ACCOUNTHOOK (1<<9)
 #define MUTT_REPLYHOOK   (1<<10)
 #define MUTT_SEND2HOOK   (1<<11)
+#ifdef USE_COMPRESSED
+#define MUTT_OPENHOOK    (1<<12)
+#define MUTT_APPENDHOOK  (1<<13)
+#define MUTT_CLOSEHOOK   (1<<14)
+#endif
 
 /* tree characters for linearize_tree and print_enriched_string */
 #define MUTT_TREE_LLCORNER      1
@@ -959,6 +964,10 @@ typedef struct _context
   unsigned int closing : 1;	/* mailbox is being closed */
   unsigned int peekonly : 1;	/* just taking a glance, revert atime */
 
+#ifdef USE_COMPRESSED
+  void *compress_info;		/* compressed mbox module private data */
+#endif /* USE_COMPRESSED */
+
   /* driver hooks */
   void *data;			/* driver specific data */
   struct mx_ops *mx_ops;
diff -r a0c62e12a105 -r 885f1d7126a4 mx.c
--- a/mx.c	Mon Feb 01 01:04:48 2016 +0000
+++ b/mx.c	Tue Jan 26 18:31:05 2016 +0000
@@ -33,6 +33,10 @@
 #include "sidebar.h"
 #endif
 
+#ifdef USE_COMPRESSED
+#include "compress.h"
+#endif
+
 #ifdef USE_IMAP
 #include "imap.h"
 #endif
@@ -60,7 +64,7 @@
 #include <ctype.h>
 #include <utime.h>
 
-static struct mx_ops* mx_get_ops (int magic)
+struct mx_ops* mx_get_ops (int magic)
 {
   switch (magic)
   {
@@ -80,6 +84,10 @@ static struct mx_ops* mx_get_ops (int ma
     case MUTT_POP:
       return &mx_pop_ops;
 #endif
+#ifdef USE_COMPRESSED
+    case MUTT_COMPRESSED:
+      return &mx_comp_ops;
+#endif
     default:
       return NULL;
   }
@@ -441,6 +449,12 @@ int mx_get_magic (const char *path)
     return (-1);
   }
 
+#ifdef USE_COMPRESSED
+  /* If there are no other matches, see if there are any
+   * compress hooks that match */
+  if ((magic == 0) && comp_can_read (path))
+    return MUTT_COMPRESSED;
+#endif
   return (magic);
 }
 
@@ -507,6 +521,11 @@ static int mx_open_mailbox_append (CONTE
       return -1;
   }
 
+#ifdef USE_COMPRESSED
+  if (comp_can_append (ctx))
+    ctx->mx_ops = &mx_comp_ops;
+  else
+#endif
   ctx->mx_ops = mx_get_ops (ctx->magic);
   if (!ctx->mx_ops || !ctx->mx_ops->open_append)
     return -1;
@@ -709,6 +728,14 @@ static int sync_mailbox (CONTEXT *ctx, i
   
   if (tmp && tmp->new == 0)
     mutt_update_mailbox (tmp);
+
+#ifdef USE_COMPRESSED
+  /* If everything went well, the mbox handler saved the changes to our
+   * temporary file.  Next, comp_sync() will compress the temporary file. */
+  if ((rc == 0) && ctx->compress_info)
+    return comp_sync (ctx);
+#endif
+
   return rc;
 }
 
diff -r a0c62e12a105 -r 885f1d7126a4 mx.h
--- a/mx.h	Mon Feb 01 01:04:48 2016 +0000
+++ b/mx.h	Tue Jan 26 18:31:05 2016 +0000
@@ -37,6 +37,9 @@ enum
   MUTT_MAILDIR,
   MUTT_IMAP,
   MUTT_POP
+#ifdef USE_COMPRESSED
+  , MUTT_COMPRESSED
+#endif
 };
 
 WHERE short DefaultMagic INITVAL (MUTT_MBOX);
@@ -70,6 +73,7 @@ void mx_update_tables (CONTEXT *, int);
 int mx_lock_file (const char *, int, int, int, int);
 int mx_unlock_file (const char *path, int fd, int dot);
 
+struct mx_ops* mx_get_ops (int magic);
 extern struct mx_ops mx_maildir_ops;
 extern struct mx_ops mx_mbox_ops;
 extern struct mx_ops mx_mh_ops;
diff -r a0c62e12a105 -r 885f1d7126a4 po/POTFILES.in
--- a/po/POTFILES.in	Mon Feb 01 01:04:48 2016 +0000
+++ b/po/POTFILES.in	Tue Jan 26 18:31:05 2016 +0000
@@ -8,6 +8,7 @@ charset.c
 color.c
 commands.c
 compose.c
+compress.c
 crypt-gpgme.c
 crypt.c
 cryptglue.c
diff -r a0c62e12a105 -r 885f1d7126a4 po/de.po
--- a/po/de.po	Mon Feb 01 01:04:48 2016 +0000
+++ b/po/de.po	Tue Jan 26 18:31:05 2016 +0000
@@ -2,7 +2,7 @@ msgid ""
 msgstr ""
 "Project-Id-Version: 1.5.20\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2016-08-17 20:11-0700\n"
+"POT-Creation-Date: 2016-07-06 10:39-0700\n"
 "PO-Revision-Date: 2008-05-18 10:28+0200\n"
 "Last-Translator: Rocco Rutte <pdmef@gmx.net>\n"
 "Language-Team: German <mutt-po@mutt.org>\n"
@@ -21,16 +21,16 @@ msgstr "Username bei %s: "
 msgid "Password for %s@%s: "
 msgstr "Passwort für %s@%s: "
 
-#: addrbook.c:37 browser.c:46 pager.c:1553 postpone.c:41 query.c:48
+#: addrbook.c:37 browser.c:46 pager.c:1532 postpone.c:41 query.c:48
 #: recvattach.c:53
 msgid "Exit"
 msgstr "Verlassen"
 
-#: addrbook.c:38 curs_main.c:487 pager.c:1560 postpone.c:42
+#: addrbook.c:38 curs_main.c:482 pager.c:1539 postpone.c:42
 msgid "Del"
 msgstr "Lösch."
 
-#: addrbook.c:39 curs_main.c:488 postpone.c:43
+#: addrbook.c:39 curs_main.c:483 postpone.c:43
 msgid "Undel"
 msgstr "Behalten"
 
@@ -38,9 +38,9 @@ msgstr "Behalten"
 msgid "Select"
 msgstr "Auswählen"
 
-#: addrbook.c:41 browser.c:49 compose.c:96 crypt-gpgme.c:4023 curs_main.c:493
-#: mutt_ssl.c:1084 mutt_ssl_gnutls.c:1003 pager.c:1656 pgpkey.c:523
-#: postpone.c:44 query.c:53 recvattach.c:57 smime.c:440
+#: addrbook.c:41 browser.c:49 compose.c:96 crypt-gpgme.c:4022 curs_main.c:488
+#: mutt_ssl.c:1049 mutt_ssl_gnutls.c:1003 pager.c:1631 pgpkey.c:522
+#: postpone.c:44 query.c:53 recvattach.c:57 smime.c:439
 msgid "Help"
 msgstr "Hilfe"
 
@@ -84,8 +84,8 @@ msgstr "Name: "
 msgid "[%s = %s] Accept?"
 msgstr "[%s = %s] Eintragen?"
 
-#: alias.c:347 recvattach.c:441 recvattach.c:467 recvattach.c:480
-#: recvattach.c:493 recvattach.c:523
+#: alias.c:347 recvattach.c:440 recvattach.c:466 recvattach.c:479
+#: recvattach.c:492 recvattach.c:522
 msgid "Save to file: "
 msgstr "Speichern in Datei: "
 
@@ -110,8 +110,8 @@ msgstr "Namensschema kann nicht erfüllt 
 msgid "Mailcap compose entry requires %%s"
 msgstr "\"compose\"-Eintrag in der Mailcap-Datei erfordert %%s."
 
-#: attach.c:134 attach.c:266 commands.c:223 compose.c:1208 curs_lib.c:204
-#: curs_lib.c:723
+#: attach.c:134 attach.c:266 commands.c:223 compose.c:1207 curs_lib.c:196
+#: curs_lib.c:569
 #, c-format
 msgid "Error running \"%s\"!"
 msgstr "Fehler beim Ausführen von \"%s\"!"
@@ -176,8 +176,8 @@ msgstr "---Anhang: %s: %s"
 msgid "---Attachment: %s"
 msgstr "---Anhang: %s"
 
-#: attach.c:631 attach.c:663 attach.c:958 attach.c:1016 handler.c:1363
-#: pgpkey.c:572 pgpkey.c:761
+#: attach.c:631 attach.c:663 attach.c:958 attach.c:1016 handler.c:1362
+#: pgpkey.c:571 pgpkey.c:760
 msgid "Can't create filter"
 msgstr "Kann Filter nicht erzeugen"
 
@@ -197,155 +197,155 @@ msgstr "Verzeichnis"
 msgid "Mask"
 msgstr "Maske"
 
-#: browser.c:425 browser.c:1091
+#: browser.c:400 browser.c:1055
 #, c-format
 msgid "%s is not a directory."
 msgstr "%s ist kein Verzeichnis."
 
-#: browser.c:573
+#: browser.c:539
 #, c-format
 msgid "Mailboxes [%d]"
 msgstr "Mailbox-Dateien [%d]"
 
-#: browser.c:580
+#: browser.c:546
 #, c-format
 msgid "Subscribed [%s], File mask: %s"
 msgstr "Abonniert [%s], Dateimaske: %s"
 
-#: browser.c:584
+#: browser.c:550
 #, c-format
 msgid "Directory [%s], File mask: %s"
 msgstr "Verzeichnis [%s], Dateimaske: %s"
 
-#: browser.c:596
+#: browser.c:562
 msgid "Can't attach a directory!"
 msgstr "Verzeichnisse können nicht angehängt werden!"
 
-#: browser.c:735 browser.c:1159 browser.c:1257
+#: browser.c:701 browser.c:1123 browser.c:1221
 msgid "No files match the file mask"
 msgstr "Es gibt keine zur Maske passenden Dateien"
 
-#: browser.c:939
+#: browser.c:905
 msgid "Create is only supported for IMAP mailboxes"
 msgstr "Es können nur IMAP Mailboxen erzeugt werden"
 
-#: browser.c:963
+#: browser.c:929
 msgid "Rename is only supported for IMAP mailboxes"
 msgstr "Es können nur IMAP Mailboxen umbenannt werden"
 
-#: browser.c:986
+#: browser.c:952
 msgid "Delete is only supported for IMAP mailboxes"
 msgstr "Es können nur IMAP Mailboxen gelöscht werden"
 
-#: browser.c:996
+#: browser.c:962
 msgid "Cannot delete root folder"
 msgstr "Kann Wurzel-Mailbox nicht löschen"
 
-#: browser.c:999
+#: browser.c:965
 #, c-format
 msgid "Really delete mailbox \"%s\"?"
 msgstr "Mailbox \"%s\" wirklich löschen?"
 
-#: browser.c:1015
+#: browser.c:979
 msgid "Mailbox deleted."
 msgstr "Mailbox gelöscht."
 
-#: browser.c:1021
+#: browser.c:985
 msgid "Mailbox not deleted."
 msgstr "Mailbox nicht gelöscht."
 
-#: browser.c:1040
+#: browser.c:1004
 msgid "Chdir to: "
 msgstr "Verzeichnis wechseln nach: "
 
-#: browser.c:1079 browser.c:1152
+#: browser.c:1043 browser.c:1116
 msgid "Error scanning directory."
 msgstr "Fehler beim Einlesen des Verzeichnisses."
 
-#: browser.c:1103
+#: browser.c:1067
 msgid "File Mask: "
 msgstr "Dateimaske: "
 
-#: browser.c:1175
+#: browser.c:1139
 msgid "Reverse sort by (d)ate, (a)lpha, si(z)e or do(n)'t sort? "
 msgstr ""
 "Sortiere umgekehrt nach (D)atum, (a)lphabetisch, (G)röße, oder (n)icht? "
 
-#: browser.c:1176
+#: browser.c:1140
 msgid "Sort by (d)ate, (a)lpha, si(z)e or do(n)'t sort? "
 msgstr "Sortiere nach (D)atum, (a)lphabetisch, (G)röße oder (n)icht?"
 
-#: browser.c:1177
+#: browser.c:1141
 msgid "dazn"
 msgstr "dagn"
 
-#: browser.c:1244
+#: browser.c:1208
 msgid "New file name: "
 msgstr "Neuer Dateiname: "
 
-#: browser.c:1275
+#: browser.c:1239
 msgid "Can't view a directory"
 msgstr "Verzeichnisse können nicht angezeigt werden."
 
-#: browser.c:1292
+#: browser.c:1256
 msgid "Error trying to view file"
 msgstr "Fehler bei der Anzeige einer Datei"
 
-#: buffy.c:607
+#: buffy.c:504
 msgid "New mail in "
 msgstr "Neue Nachrichten in "
 
-#: color.c:339
+#: color.c:328
 #, c-format
 msgid "%s: color not supported by term"
 msgstr "%s: color wird nicht vom Terminal unterstützt."
 
-#: color.c:345
+#: color.c:334
 #, c-format
 msgid "%s: no such color"
 msgstr "%s: Farbe unbekannt."
 
-#: color.c:409 color.c:615 color.c:626
+#: color.c:398 color.c:604 color.c:615
 #, c-format
 msgid "%s: no such object"
 msgstr "%s: Objekt unbekannt."
 
-#: color.c:422
+#: color.c:411
 #, c-format
 msgid "%s: command valid only for index, body, header objects"
 msgstr "%s: Kommando ist nur für Index-/Body-/Header-Objekt gültig."
 
-#: color.c:430
+#: color.c:419
 #, c-format
 msgid "%s: too few arguments"
 msgstr "%s: Zu wenige Parameter."
 
-#: color.c:603
+#: color.c:592
 msgid "Missing arguments."
 msgstr "Fehlende Parameter."
 
-#: color.c:642 color.c:653
+#: color.c:631 color.c:642
 msgid "color: too few arguments"
 msgstr "color: Zu wenige Parameter."
 
-#: color.c:676
+#: color.c:665
 msgid "mono: too few arguments"
 msgstr "mono: Zu wenige Parameter."
 
-#: color.c:696
+#: color.c:685
 #, c-format
 msgid "%s: no such attribute"
 msgstr "%s: Attribut unbekannt."
 
-#: color.c:736 hook.c:69 hook.c:77 keymap.c:921
+#: color.c:725 hook.c:69 hook.c:77 keymap.c:921
 msgid "too few arguments"
 msgstr "Zu wenige Parameter."
 
-#: color.c:745 hook.c:83
+#: color.c:734 hook.c:83
 msgid "too many arguments"
 msgstr "Zu viele Parameter."
 
-#: color.c:761
+#: color.c:750
 msgid "default colors not supported"
 msgstr "Standard-Farben werden nicht unterstützt."
 
@@ -353,7 +353,7 @@ msgstr "Standard-Farben werden nicht unt
 msgid "Verify PGP signature?"
 msgstr "PGP-Signatur überprüfen?"
 
-#: commands.c:115 mbox.c:864
+#: commands.c:115 mbox.c:786
 msgid "Could not create temporary file!"
 msgstr "Konnte keine Temporärdatei erzeugen!"
 
@@ -500,65 +500,65 @@ msgstr "danbefugwp"
 msgid "Shell command: "
 msgstr "Shell-Kommando: "
 
-#: commands.c:742
+#: commands.c:741
 #, c-format
 msgid "Decode-save%s to mailbox"
 msgstr "Speichere%s dekodiert in Mailbox"
 
-#: commands.c:743
+#: commands.c:742
 #, c-format
 msgid "Decode-copy%s to mailbox"
 msgstr "Kopiere%s dekodiert in Mailbox"
 
-#: commands.c:744
+#: commands.c:743
 #, c-format
 msgid "Decrypt-save%s to mailbox"
 msgstr "Speichere%s entschlüsselt in Mailbox"
 
-#: commands.c:745
+#: commands.c:744
 #, c-format
 msgid "Decrypt-copy%s to mailbox"
 msgstr "Kopiere%s entschlüsselt in Mailbox"
 
-#: commands.c:746
+#: commands.c:745
 #, c-format
 msgid "Save%s to mailbox"
 msgstr "Speichere%s in Mailbox"
 
-#: commands.c:746
+#: commands.c:745
 #, c-format
 msgid "Copy%s to mailbox"
 msgstr "Kopiere%s in Mailbox"
 
-#: commands.c:747
+#: commands.c:746
 msgid " tagged"
 msgstr " ausgewählte"
 
-#: commands.c:820
+#: commands.c:819
 #, c-format
 msgid "Copying to %s..."
 msgstr "Kopiere nach %s..."
 
-#: commands.c:936
+#: commands.c:935
 #, c-format
 msgid "Convert to %s upon sending?"
 msgstr "Konvertiere beim Senden nach %s?"
 
-#: commands.c:946
+#: commands.c:945
 #, c-format
 msgid "Content-Type changed to %s."
 msgstr "Content-Type in %s abgeändert."
 
-#: commands.c:951
+#: commands.c:950
 #, c-format
 msgid "Character set changed to %s; %s."
 msgstr "Zeichensatz in %s abgeändert; %s."
 
-#: commands.c:953
+#: commands.c:952
 msgid "not converting"
 msgstr "nicht konvertiert"
 
-#: commands.c:953
+#: commands.c:952
 msgid "converting"
 msgstr "konvertiert"
 
@@ -570,11 +570,11 @@ msgstr "Es sind keine Anhänge vorhanden.
 msgid "Send"
 msgstr "Absenden"
 
-#: compose.c:90 remailer.c:484
+#: compose.c:90 remailer.c:481
 msgid "Abort"
 msgstr "Verwerfen"
 
-#: compose.c:94 compose.c:686
+#: compose.c:94 compose.c:685
 msgid "Attach file"
 msgstr "Datei anhängen"
 
@@ -622,8 +622,7 @@ msgid " (OppEnc mode)"
 msgstr ""
 
 #: compose.c:153 compose.c:157
-#, fuzzy
-msgid "sign as: "
+msgid " sign as: "
 msgstr " signiere als: "
 
 #: compose.c:153 compose.c:157
@@ -634,144 +633,139 @@ msgstr "<Voreinstellung>"
 msgid "Encrypt with: "
 msgstr "Verschlüsseln mit: "
 
-#. L10N: "Mix" refers to the MixMaster chain for anonymous email
-#: compose.c:179
-msgid "Mix: "
-msgstr ""
-
-#: compose.c:219
+#: compose.c:218
 #, c-format
 msgid "%s [#%d] no longer exists!"
 msgstr "%s [#%d] existiert nicht mehr!"
 
-#: compose.c:227
+#: compose.c:226
 #, c-format
 msgid "%s [#%d] modified. Update encoding?"
 msgstr "%s [#%d] wurde verändert. Kodierung neu bestimmen?"
 
-#: compose.c:270
+#: compose.c:269
 msgid "-- Attachments"
 msgstr "-- Anhänge"
 
-#: compose.c:298
+#: compose.c:297
 #, c-format
 msgid "Warning: '%s' is a bad IDN."
 msgstr "Warnung: '%s' ist eine ungültige IDN."
 
-#: compose.c:321
+#: compose.c:320
 msgid "You may not delete the only attachment."
 msgstr "Der einzige Nachrichtenteil kann nicht gelöscht werden."
 
-#: compose.c:614 send.c:1681
+#: compose.c:613 send.c:1681
 #, c-format
 msgid "Bad IDN in \"%s\": '%s'"
 msgstr "Ungültige IDN in \"%s\": '%s'"
 
-#: compose.c:702
+#: compose.c:701
 msgid "Attaching selected files..."
 msgstr "Hänge ausgewählte Dateien an..."
 
-#: compose.c:714
+#: compose.c:713
 #, c-format
 msgid "Unable to attach %s!"
 msgstr "Kann %s nicht anhängen!"
 
-#: compose.c:733
+#: compose.c:732
 msgid "Open mailbox to attach message from"
 msgstr "Mailbox, aus der angehängt werden soll"
 
-#: compose.c:763
+#: compose.c:762
 #, fuzzy, c-format
 msgid "Unable to open mailbox %s"
 msgstr "Kann Mailbox nicht für exklusiven Zugriff sperren!"
 
-#: compose.c:771
+#: compose.c:770
 msgid "No messages in that folder."
 msgstr "Keine Nachrichten in diesem Ordner."
 
-#: compose.c:780
+#: compose.c:779
 msgid "Tag the messages you want to attach!"
 msgstr "Bitte markieren Sie die Nachrichten, die Sie anhängen wollen!"
 
-#: compose.c:812
+#: compose.c:811
 msgid "Unable to attach!"
 msgstr "Kann nicht anhängen!"
 
-#: compose.c:863
+#: compose.c:862
 msgid "Recoding only affects text attachments."
 msgstr "Ändern der Kodierung betrifft nur Textanhänge."
 
-#: compose.c:868
+#: compose.c:867
 msgid "The current attachment won't be converted."
 msgstr "Der aktuelle Anhang wird nicht konvertiert werden."
 
-#: compose.c:870
+#: compose.c:869
 msgid "The current attachment will be converted."
 msgstr "Der aktuelle Anhang wird konvertiert werden."
 
-#: compose.c:945
+#: compose.c:944
 msgid "Invalid encoding."
 msgstr "Ungültige Kodierung."
 
-#: compose.c:971
+#: compose.c:970
 msgid "Save a copy of this message?"
 msgstr "Soll eine Kopie dieser Nachricht gespeichert werden?"
 
-#: compose.c:1027
+#: compose.c:1026
 msgid "Rename to: "
 msgstr "Umbenennen in: "
 
 #. L10N:
 #. "stat" is a system call. Do "man 2 stat" for more information.
-#: compose.c:1034 editmsg.c:96 editmsg.c:121 sendlib.c:872
+#: compose.c:1033 editmsg.c:96 editmsg.c:121 sendlib.c:872
 #, c-format
 msgid "Can't stat %s: %s"
 msgstr "Kann Verzeichniseintrag für Datei %s nicht lesen: %s"
 
-#: compose.c:1061
+#: compose.c:1060
 msgid "New file: "
 msgstr "Neue Datei: "
 
-#: compose.c:1074
+#: compose.c:1073
 msgid "Content-Type is of the form base/sub"
 msgstr "Content-Type ist von der Form Basis/Untertyp."
 
-#: compose.c:1080
+#: compose.c:1079
 #, c-format
 msgid "Unknown Content-Type %s"
 msgstr "Unbekannter Content-Type %s."
 
-#: compose.c:1093
+#: compose.c:1092
 #, c-format
 msgid "Can't create file %s"
 msgstr "Kann Datei %s nicht anlegen."
 
-#: compose.c:1101
+#: compose.c:1100
 msgid "What we have here is a failure to make an attachment"
 msgstr "Anhang kann nicht erzeugt werden."
 
-#: compose.c:1162
+#: compose.c:1161
 msgid "Postpone this message?"
 msgstr "Nachricht zurückstellen?"
 
-#: compose.c:1226
+#: compose.c:1225
 msgid "Write message to mailbox"
 msgstr "Schreibe Nachricht in Mailbox"
 
-#: compose.c:1229
+#: compose.c:1228
 #, c-format
 msgid "Writing message to %s ..."
 msgstr "Schreibe Nachricht nach %s ..."
 
-#: compose.c:1238
+#: compose.c:1237
 msgid "Message written."
 msgstr "Nachricht geschrieben."
 
-#: compose.c:1252
+#: compose.c:1251
 msgid "S/MIME already selected. Clear & continue ? "
 msgstr "S/MIME bereits ausgewählt. Löschen und weiter?"
 
-#: compose.c:1285
+#: compose.c:1284
 msgid "PGP already selected. Clear & continue ? "
 msgstr "PGP bereits ausgewählt. Löschen und weiter?"
 
@@ -805,7 +799,7 @@ msgstr "Fehler beim Zurücklegen des Date
 msgid "error reading data object: %s\n"
 msgstr "Fehler beim Lesen des Datenobjekts: %s\n"
 
-#: crypt-gpgme.c:573 crypt-gpgme.c:3637 pgpkey.c:560 pgpkey.c:741
+#: crypt-gpgme.c:573 crypt-gpgme.c:3636 pgpkey.c:559 pgpkey.c:740
 msgid "Can't create temporary file"
 msgstr "Kann temporäre Datei nicht erzeugen"
 
@@ -893,7 +887,7 @@ msgid "PKA verified signer's address is:
 msgstr "Die PKA geprüfte Adresse des Unterzeichners lautet: "
 
 #. L10N: DOTFILL
-#: crypt-gpgme.c:1264 crypt-gpgme.c:3468
+#: crypt-gpgme.c:1264 crypt-gpgme.c:3467
 msgid "Fingerprint: "
 msgstr "Fingerabdruck: "
 
@@ -1101,15 +1095,15 @@ msgstr "[-- Ende der S/MIME signierten D
 msgid "[-- End of S/MIME encrypted data --]\n"
 msgstr "[-- Ende der S/MIME-verschlüsselten Daten --]\n"
 
-#: crypt-gpgme.c:3299
+#: crypt-gpgme.c:3298
 msgid "[Can't display this user ID (unknown encoding)]"
 msgstr "[Kann Benutzer-ID nicht darstellen (unbekannte Kodierung)]"
 
-#: crypt-gpgme.c:3301
+#: crypt-gpgme.c:3300
 msgid "[Can't display this user ID (invalid encoding)]"
 msgstr "[Kann Benutzer-ID nicht darstellen (unzulässige Kodierung)]"
 
-#: crypt-gpgme.c:3306
+#: crypt-gpgme.c:3305
 msgid "[Can't display this user ID (invalid DN)]"
 msgstr "[Kann Benutzer-ID nicht darstellen (unzulässiger DN)]"
 
@@ -1117,153 +1111,153 @@ msgstr "[Kann Benutzer-ID nicht darstell
 #. Fill dots to make the DOTFILL entries the same length.
 #. In English, msgid "Fingerprint: " is the longest entry for this menu.
 #. Your language may vary.
-#: crypt-gpgme.c:3389
+#: crypt-gpgme.c:3388
 msgid " aka ......: "
 msgstr " aka ......: "
 
-#: crypt-gpgme.c:3389
+#: crypt-gpgme.c:3388
 msgid "Name ......: "
 msgstr "Name ......: "
 
-#: crypt-gpgme.c:3392 crypt-gpgme.c:3539
+#: crypt-gpgme.c:3391 crypt-gpgme.c:3538
 msgid "[Invalid]"
 msgstr "[Ungültig]"
 
 #. L10N: DOTFILL
-#: crypt-gpgme.c:3413 crypt-gpgme.c:3564
+#: crypt-gpgme.c:3412 crypt-gpgme.c:3563
 #, c-format
 msgid "Valid From : %s\n"
 msgstr "Gültig ab: %s\n"
 
 #. L10N: DOTFILL
-#: crypt-gpgme.c:3427 crypt-gpgme.c:3578
+#: crypt-gpgme.c:3426 crypt-gpgme.c:3577
 #, c-format
 msgid "Valid To ..: %s\n"
 msgstr "Gültig bis: %s\n"
 
 #. L10N: DOTFILL
-#: crypt-gpgme.c:3441 crypt-gpgme.c:3592
+#: crypt-gpgme.c:3440 crypt-gpgme.c:3591
 #, c-format
 msgid "Key Type ..: %s, %lu bit %s\n"
 msgstr "Schlüssel Typ ..: %s, %lu Bit %s\n"
 
 #. L10N: DOTFILL
-#: crypt-gpgme.c:3444 crypt-gpgme.c:3595
+#: crypt-gpgme.c:3443 crypt-gpgme.c:3594
 #, c-format
 msgid "Key Usage .: "
 msgstr "Schlüssel Gebrauch .: "
 
-#: crypt-gpgme.c:3449 crypt-gpgme.c:3600
+#: crypt-gpgme.c:3448 crypt-gpgme.c:3599
 msgid "encryption"
 msgstr "Verschlüsselung"
 
-#: crypt-gpgme.c:3450 crypt-gpgme.c:3455 crypt-gpgme.c:3460 crypt-gpgme.c:3601
-#: crypt-gpgme.c:3606 crypt-gpgme.c:3611
+#: crypt-gpgme.c:3449 crypt-gpgme.c:3454 crypt-gpgme.c:3459 crypt-gpgme.c:3600
+#: crypt-gpgme.c:3605 crypt-gpgme.c:3610
 msgid ", "
 msgstr ", "
 
-#: crypt-gpgme.c:3454 crypt-gpgme.c:3605
+#: crypt-gpgme.c:3453 crypt-gpgme.c:3604
 msgid "signing"
 msgstr "Signieren"
 
-#: crypt-gpgme.c:3459 crypt-gpgme.c:3610
+#: crypt-gpgme.c:3458 crypt-gpgme.c:3609
 msgid "certification"
 msgstr "Zertifikat"
 
 #. L10N: DOTFILL
-#: crypt-gpgme.c:3501
+#: crypt-gpgme.c:3500
 #, c-format
 msgid "Serial-No .: 0x%s\n"
 msgstr "Seriennr. .: 0x%s\n"
 
 #. L10N: DOTFILL
-#: crypt-gpgme.c:3510
+#: crypt-gpgme.c:3509
 #, c-format
 msgid "Issued By .: "
 msgstr "Herausgegeben von .: "
 
 #. L10N: DOTFILL
-#: crypt-gpgme.c:3530
+#: crypt-gpgme.c:3529
 #, c-format
 msgid "Subkey ....: 0x%s"
 msgstr "Unter-Schlüssel: 0x%s"
 
-#: crypt-gpgme.c:3534
+#: crypt-gpgme.c:3533
 msgid "[Revoked]"
 msgstr "[Zurückgez.]"
 
-#: crypt-gpgme.c:3544
+#: crypt-gpgme.c:3543
 msgid "[Expired]"
 msgstr "[Abgelaufen]"
 
-#: crypt-gpgme.c:3549
+#: crypt-gpgme.c:3548
 msgid "[Disabled]"
 msgstr "[Deaktiviert]"
 
-#: crypt-gpgme.c:3640
+#: crypt-gpgme.c:3639
 msgid "Collecting data..."
 msgstr "Sammle Informtionen..."
 
-#: crypt-gpgme.c:3666
+#: crypt-gpgme.c:3665
 #, c-format
 msgid "Error finding issuer key: %s\n"
 msgstr "Fehler bei der Suche nach dem Schlüssel des Herausgebers: %s\n"
 
-#: crypt-gpgme.c:3676
+#: crypt-gpgme.c:3675
 #, fuzzy
 msgid "Error: certification chain too long - stopping here\n"
 msgstr "Fehler: Zertifikatskette zu lang - Stoppe hier\n"
 
-#: crypt-gpgme.c:3687 pgpkey.c:582
+#: crypt-gpgme.c:3686 pgpkey.c:581
 #, c-format
 msgid "Key ID: 0x%s"
 msgstr "Schlüssel ID: 0x%s"
 
-#: crypt-gpgme.c:3770
+#: crypt-gpgme.c:3769
 #, c-format
 msgid "gpgme_new failed: %s"
 msgstr "gpgme_new fehlgeschlagen: %s"
 
-#: crypt-gpgme.c:3809 crypt-gpgme.c:3884
+#: crypt-gpgme.c:3808 crypt-gpgme.c:3883
 #, c-format
 msgid "gpgme_op_keylist_start failed: %s"
 msgstr "gpgme_op_keylist_start fehlgeschlagen: %s"
 
-#: crypt-gpgme.c:3871 crypt-gpgme.c:3915
+#: crypt-gpgme.c:3870 crypt-gpgme.c:3914
 #, c-format
 msgid "gpgme_op_keylist_next failed: %s"
 msgstr "gpgme_op_keylist_next fehlgeschlagen: %s"
 
-#: crypt-gpgme.c:3986
+#: crypt-gpgme.c:3985
 msgid "All matching keys are marked expired/revoked."
 msgstr "Alles passenden Schlüssel sind abgelaufen/zurückgezogen."
 
-#: crypt-gpgme.c:4015 mutt_ssl.c:1082 mutt_ssl_gnutls.c:1001 pgpkey.c:516
-#: smime.c:435
+#: crypt-gpgme.c:4014 mutt_ssl.c:1047 mutt_ssl_gnutls.c:1001 pgpkey.c:515
+#: smime.c:434
 msgid "Exit  "
 msgstr "Ende  "
 
-#: crypt-gpgme.c:4017 pgpkey.c:518 smime.c:437
+#: crypt-gpgme.c:4016 pgpkey.c:517 smime.c:436
 msgid "Select  "
 msgstr "Auswahl  "
 
-#: crypt-gpgme.c:4020 pgpkey.c:521
+#: crypt-gpgme.c:4019 pgpkey.c:520
 msgid "Check key  "
 msgstr "Schlüssel prüfen  "
 
-#: crypt-gpgme.c:4036
+#: crypt-gpgme.c:4035
 msgid "PGP and S/MIME keys matching"
 msgstr "Passende PGP und S/MIME Schlüssel"
 
-#: crypt-gpgme.c:4038
+#: crypt-gpgme.c:4037
 msgid "PGP keys matching"
 msgstr "Passende PGP Schlüssel"
 
-#: crypt-gpgme.c:4040
+#: crypt-gpgme.c:4039
 msgid "S/MIME keys matching"
 msgstr "Passende S/MIME Schlüssel"
 
-#: crypt-gpgme.c:4042
+#: crypt-gpgme.c:4041
 msgid "keys matching"
 msgstr "Passende Schlüssel"
 
@@ -1271,64 +1265,64 @@ msgstr "Passende Schlüssel"
 #. %1$s is one of the previous four entries.
 #. %2$s is an address.
 #. e.g. "S/MIME keys matching <me@mutt.org>."
-#: crypt-gpgme.c:4049
+#: crypt-gpgme.c:4048
 #, c-format
 msgid "%s <%s>."
 msgstr "%s <%s>."
 
 #. L10N:
 #. e.g. 'S/MIME keys matching "Michael Elkins".'
-#: crypt-gpgme.c:4053
+#: crypt-gpgme.c:4052
 #, c-format
 msgid "%s \"%s\"."
 msgstr "%s \"%s\"."
 
-#: crypt-gpgme.c:4080 pgpkey.c:602
+#: crypt-gpgme.c:4079 pgpkey.c:601
 msgid "This key can't be used: expired/disabled/revoked."
 msgstr ""
 "Dieser Schlüssel ist nicht verwendbar: veraltet/deaktiviert/zurückgezogen."
 
-#: crypt-gpgme.c:4094 pgpkey.c:614 smime.c:467
+#: crypt-gpgme.c:4093 pgpkey.c:613 smime.c:466
 msgid "ID is expired/disabled/revoked."
 msgstr "Diese ID ist veraltet/deaktiviert/zurückgezogen."
 
-#: crypt-gpgme.c:4102 pgpkey.c:618 smime.c:470
+#: crypt-gpgme.c:4101 pgpkey.c:617 smime.c:469
 msgid "ID has undefined validity."
 msgstr "Die Gültigkeit dieser ID ist undefiniert."
 
-#: crypt-gpgme.c:4105 pgpkey.c:621
+#: crypt-gpgme.c:4104 pgpkey.c:620
 msgid "ID is not valid."
 msgstr "Diese ID ist ungültig."
 
-#: crypt-gpgme.c:4108 pgpkey.c:624
+#: crypt-gpgme.c:4107 pgpkey.c:623
 msgid "ID is only marginally valid."
 msgstr "Diese Gültigkeit dieser ID ist begrenzt."
 
-#: crypt-gpgme.c:4117 pgpkey.c:628 smime.c:477
+#: crypt-gpgme.c:4116 pgpkey.c:627 smime.c:476
 #, c-format
 msgid "%s Do you really want to use the key?"
 msgstr "%s Wollen Sie den Schlüssel wirklich benutzen?"
 
-#: crypt-gpgme.c:4178 crypt-gpgme.c:4312 pgpkey.c:839 pgpkey.c:966
+#: crypt-gpgme.c:4177 crypt-gpgme.c:4311 pgpkey.c:838 pgpkey.c:965
 #, c-format
 msgid "Looking for keys matching \"%s\"..."
 msgstr "Suche nach Schlüsseln, die auf \"%s\" passen..."
 
-#: crypt-gpgme.c:4467 pgp.c:1304
+#: crypt-gpgme.c:4466 pgp.c:1304
 #, c-format
 msgid "Use keyID = \"%s\" for %s?"
 msgstr "Benutze KeyID = \"%s\" für %s?"
 
-#: crypt-gpgme.c:4525 pgp.c:1353 smime.c:796 smime.c:902
+#: crypt-gpgme.c:4524 pgp.c:1353 smime.c:795 smime.c:901
 #, c-format
 msgid "Enter keyID for %s: "
 msgstr "KeyID für %s: "
 
-#: crypt-gpgme.c:4602 pgpkey.c:726
+#: crypt-gpgme.c:4601 pgpkey.c:725
 msgid "Please enter the key ID: "
 msgstr "Bitte Schlüsselidentifikation eingeben: "
 
-#: crypt-gpgme.c:4615
+#: crypt-gpgme.c:4614
 #, fuzzy, c-format
 msgid "Error exporting key: %s\n"
 msgstr "Fehler beim Auslesen der Schlüsselinformation!\n"
@@ -1337,20 +1331,20 @@ msgstr "Fehler beim Auslesen der Schlüss
 #. MIME description for exported (attached) keys.
 #. You can translate this entry to a non-ASCII string (it will be encoded),
 #. but it may be safer to keep it untranslated.
-#: crypt-gpgme.c:4635
+#: crypt-gpgme.c:4634
 #, fuzzy, c-format
 msgid "PGP Key 0x%s."
 msgstr "PGP Schlüssel %s."
 
-#: crypt-gpgme.c:4677
+#: crypt-gpgme.c:4676
 msgid "GPGME: OpenPGP protocol not available"
 msgstr ""
 
-#: crypt-gpgme.c:4685
+#: crypt-gpgme.c:4684
 msgid "GPGME: CMS protocol not available"
 msgstr ""
 
-#: crypt-gpgme.c:4722
+#: crypt-gpgme.c:4721
 #, fuzzy
 msgid "S/MIME (s)ign, sign (a)s, (p)gp, (c)lear, or (o)ppenc mode off? "
 msgstr ""
@@ -1360,21 +1354,21 @@ msgstr ""
 #. 'clear'.  Please use a corresponding letter in your language.
 #. Alternatively, you may duplicate the letter 'c' is translated to.
 #. This comment also applies to the five following letter sequences.
-#: crypt-gpgme.c:4727
+#: crypt-gpgme.c:4726
 msgid "sapfco"
 msgstr ""
 
-#: crypt-gpgme.c:4732
+#: crypt-gpgme.c:4731
 #, fuzzy
 msgid "PGP (s)ign, sign (a)s, s/(m)ime, (c)lear, or (o)ppenc mode off? "
 msgstr ""
 "PGP (v)erschl., (s)ign., sign. (a)ls, (b)eides, s/(m)ime, (u)nverschl.?"
 
-#: crypt-gpgme.c:4733
+#: crypt-gpgme.c:4732
 msgid "samfco"
 msgstr ""
 
-#: crypt-gpgme.c:4745
+#: crypt-gpgme.c:4744
 #, fuzzy
 msgid ""
 "S/MIME (e)ncrypt, (s)ign, sign (a)s, (b)oth, (p)gp, (c)lear, or (o)ppenc "
@@ -1382,12 +1376,12 @@ msgid ""
 msgstr ""
 "S/MIME (v)erschl., (s)ign., sign. (a)ls, (b)eides, (p)gp, (u)nverschl.?"
 
-#: crypt-gpgme.c:4746
+#: crypt-gpgme.c:4745
 #, fuzzy
 msgid "esabpfco"
 msgstr "vsabpku"
 
-#: crypt-gpgme.c:4751
+#: crypt-gpgme.c:4750
 #, fuzzy
 msgid ""
 "PGP (e)ncrypt, (s)ign, sign (a)s, (b)oth, s/(m)ime, (c)lear, or (o)ppenc "
@@ -1395,40 +1389,40 @@ msgid ""
 msgstr ""
 "PGP (v)erschl., (s)ign., sign. (a)ls, (b)eides, s/(m)ime, (u)nverschl.?"
 
-#: crypt-gpgme.c:4752
+#: crypt-gpgme.c:4751
 #, fuzzy
 msgid "esabmfco"
 msgstr "vsabmku"
 
-#: crypt-gpgme.c:4763
+#: crypt-gpgme.c:4762
 #, fuzzy
 msgid "S/MIME (e)ncrypt, (s)ign, sign (a)s, (b)oth, (p)gp or (c)lear? "
 msgstr ""
 "S/MIME (v)erschl., (s)ign., sign. (a)ls, (b)eides, (p)gp, (u)nverschl.?"
 
-#: crypt-gpgme.c:4764
+#: crypt-gpgme.c:4763
 msgid "esabpfc"
 msgstr "vsabpku"
 
-#: crypt-gpgme.c:4769
+#: crypt-gpgme.c:4768
 #, fuzzy
 msgid "PGP (e)ncrypt, (s)ign, sign (a)s, (b)oth, s/(m)ime or (c)lear? "
 msgstr ""
 "PGP (v)erschl., (s)ign., sign. (a)ls, (b)eides, s/(m)ime, (u)nverschl.?"
 
-#: crypt-gpgme.c:4770
+#: crypt-gpgme.c:4769
 msgid "esabmfc"
 msgstr "vsabmku"
 
-#: crypt-gpgme.c:4795 pgp.c:1818 smime.c:2222 smime.c:2237
+#: crypt-gpgme.c:4794 pgp.c:1818 smime.c:2221 smime.c:2236
 msgid "Sign as: "
 msgstr "Signiere als: "
 
-#: crypt-gpgme.c:4930
+#: crypt-gpgme.c:4929
 msgid "Failed to verify sender"
 msgstr "Prüfung des Absenders fehlgeschlagen"
 
-#: crypt-gpgme.c:4933
+#: crypt-gpgme.c:4932
 msgid "Failed to figure out sender"
 msgstr "Kann Absender nicht ermitteln"
 
@@ -1455,7 +1449,7 @@ msgstr "Nachricht kann nicht inline vers
 msgid "Mail not sent: inline PGP can't be used with attachments."
 msgstr ""
 
-#: crypt.c:161 cryptglue.c:110 pgpkey.c:564 pgpkey.c:754
+#: crypt.c:161 cryptglue.c:110 pgpkey.c:563 pgpkey.c:753
 msgid "Invoking PGP..."
 msgstr "Rufe PGP auf..."
 
@@ -1539,318 +1533,318 @@ msgstr ""
 msgid "Invoking S/MIME..."
 msgstr "Rufe S/MIME auf..."
 
-#: curs_lib.c:218
+#: curs_lib.c:210
 msgid "yes"
 msgstr "ja"
 
-#: curs_lib.c:219
+#: curs_lib.c:211
 msgid "no"
 msgstr "nein"
 
-#: curs_lib.c:326
+#: curs_lib.c:318
 msgid "Exit Mutt?"
 msgstr "Mutt verlassen?"
 
-#: curs_lib.c:675 mutt_socket.c:577 mutt_ssl.c:426
+#: curs_lib.c:521 mutt_socket.c:577 mutt_ssl.c:415
 msgid "unknown error"
 msgstr "unbekannter Fehler"
 
-#: curs_lib.c:695
+#: curs_lib.c:541
 msgid "Press any key to continue..."
 msgstr "Bitte drücken Sie eine Taste..."
 
-#: curs_lib.c:740
+#: curs_lib.c:586
 msgid " ('?' for list): "
 msgstr " (für eine Liste '?' eingeben): "
 
-#: curs_main.c:57 curs_main.c:709 curs_main.c:739
+#: curs_main.c:52 curs_main.c:694 curs_main.c:724
 msgid "No mailbox is open."
 msgstr "Keine Mailbox ist geöffnet."
 
-#: curs_main.c:58
+#: curs_main.c:53
 msgid "There are no messages."
 msgstr "Es sind keine Nachrichten vorhanden."
 
-#: curs_main.c:59 mx.c:1130 pager.c:54 recvattach.c:43
+#: curs_main.c:54 mx.c:1102 pager.c:51 recvattach.c:43
 msgid "Mailbox is read-only."
 msgstr "Mailbox kann nur gelesen, nicht geschrieben werden."
 
-#: curs_main.c:60 pager.c:55 recvattach.c:925
+#: curs_main.c:55 pager.c:52 recvattach.c:924
 msgid "Function not permitted in attach-message mode."
 msgstr "Funktion steht beim Anhängen von Nachrichten nicht zur Verfügung."
 
-#: curs_main.c:61
+#: curs_main.c:56
 msgid "No visible messages."
 msgstr "Keine sichtbaren Nachrichten."
 
 #. L10N: %s is one of the CHECK_ACL entries below.
-#: curs_main.c:102 pager.c:86
+#: curs_main.c:97 pager.c:83
 #, fuzzy, c-format
 msgid "%s: Operation not permitted by ACL"
 msgstr "Operation \"%s\" gemäß ACL nicht zulässig"
 
-#: curs_main.c:332
+#: curs_main.c:327
 msgid "Cannot toggle write on a readonly mailbox!"
 msgstr "Kann Mailbox im Nur-Lese-Modus nicht schreibbar machen!"
 
-#: curs_main.c:339
+#: curs_main.c:334
 msgid "Changes to folder will be written on folder exit."
 msgstr "Änderungen an dieser Mailbox werden beim Verlassen geschrieben."
 
-#: curs_main.c:344
+#: curs_main.c:339
 msgid "Changes to folder will not be written."
 msgstr "Änderungen an dieser Mailbox werden nicht geschrieben."
 
-#: curs_main.c:486
+#: curs_main.c:481
 msgid "Quit"
 msgstr "Ende"
 
-#: curs_main.c:489 recvattach.c:54
+#: curs_main.c:484 recvattach.c:54
 msgid "Save"
 msgstr "Speichern"
 
-#: curs_main.c:490 query.c:49
+#: curs_main.c:485 query.c:49
 msgid "Mail"
 msgstr "Senden"
 
-#: curs_main.c:491 pager.c:1561
+#: curs_main.c:486 pager.c:1540
 msgid "Reply"
 msgstr "Antw."
 
-#: curs_main.c:492
+#: curs_main.c:487
 msgid "Group"
 msgstr "Antw.alle"
 
-#: curs_main.c:574
+#: curs_main.c:571
 msgid "Mailbox was externally modified.  Flags may be wrong."
 msgstr "Mailbox wurde verändert. Markierungen können veraltet sein."
 
-#: curs_main.c:577
+#: curs_main.c:574
 msgid "New mail in this mailbox."
 msgstr "Neue Nachrichten in dieser Mailbox."
 
-#: curs_main.c:581
+#: curs_main.c:578
 msgid "Mailbox was externally modified."
 msgstr "Mailbox wurde von außen verändert."
 
-#: curs_main.c:715
+#: curs_main.c:700
 msgid "No tagged messages."
 msgstr "Keine markierten Nachrichten."
 
-#: curs_main.c:746 menu.c:928
+#: curs_main.c:731 menu.c:907
 msgid "Nothing to do."
 msgstr "Nichts zu erledigen."
 
-#: curs_main.c:832
+#: curs_main.c:817
 msgid "Jump to message: "
 msgstr "Springe zu Nachricht: "
 
-#: curs_main.c:838
+#: curs_main.c:823
 msgid "Argument must be a message number."
 msgstr "Argument muss eine Nachrichtennummer sein."
 
-#: curs_main.c:870
+#: curs_main.c:855
 msgid "That message is not visible."
 msgstr "Diese Nachricht ist nicht sichtbar."
 
-#: curs_main.c:873
+#: curs_main.c:858
 msgid "Invalid message number."
 msgstr "Ungültige Nachrichtennummer."
 
 #. L10N: CHECK_ACL
-#: curs_main.c:887 curs_main.c:2004 pager.c:2450
+#: curs_main.c:872 curs_main.c:1970 pager.c:2390
 #, fuzzy
 msgid "Cannot delete message(s)"
 msgstr "Löschmarkierung von Nachricht(en) entfernen"
 
-#: curs_main.c:890
+#: curs_main.c:875
 msgid "Delete messages matching: "
 msgstr "Lösche Nachrichten nach Muster: "
 
-#: curs_main.c:912
+#: curs_main.c:897
 msgid "No limit pattern is in effect."
 msgstr "Zur Zeit ist kein Muster aktiv."
 
 #. L10N: ask for a limit to apply
-#: curs_main.c:917
+#: curs_main.c:902
 #, c-format
 msgid "Limit: %s"
 msgstr "Begrenze: %s"
 
-#: curs_main.c:927
+#: curs_main.c:912
 msgid "Limit to messages matching: "
 msgstr "Begrenze auf Nachrichten nach Muster: "
 
-#: curs_main.c:949
+#: curs_main.c:934
 msgid "To view all messages, limit to \"all\"."
 msgstr "Um alle Nachrichten zu sehen, begrenze auf \"all\"."
 
-#: curs_main.c:961 pager.c:1997
+#: curs_main.c:946 pager.c:1939
 msgid "Quit Mutt?"
 msgstr "Mutt beenden?"
 
-#: curs_main.c:1051
+#: curs_main.c:1036
 msgid "Tag messages matching: "
 msgstr "Markiere Nachrichten nach Muster: "
 
 #. L10N: CHECK_ACL
-#: curs_main.c:1061 curs_main.c:2304 pager.c:2765
+#: curs_main.c:1046 curs_main.c:2268 pager.c:2704
 #, fuzzy
 msgid "Cannot undelete message(s)"
 msgstr "Löschmarkierung von Nachricht(en) entfernen"
 
-#: curs_main.c:1063
+#: curs_main.c:1048
 msgid "Undelete messages matching: "
 msgstr "Entferne Löschmarkierung nach Muster: "
 
-#: curs_main.c:1071
+#: curs_main.c:1056
 msgid "Untag messages matching: "
 msgstr "Entferne Markierung nach Muster: "
 
-#: curs_main.c:1097
+#: curs_main.c:1082
 msgid "Logged out of IMAP servers."
 msgstr ""
 
-#: curs_main.c:1182
+#: curs_main.c:1164
 msgid "Open mailbox in read-only mode"
 msgstr "Öffne Mailbox im nur-Lesen-Modus"
 
-#: curs_main.c:1184
+#: curs_main.c:1166
 msgid "Open mailbox"
 msgstr "Öffne Mailbox"
 
-#: curs_main.c:1194
+#: curs_main.c:1176
 msgid "No mailboxes have new mail"
 msgstr "Keine Mailbox mit neuen Nachrichten"
 
-#: curs_main.c:1231 mx.c:487 mx.c:580
+#: curs_main.c:1204 mx.c:472 mx.c:621
 #, c-format
 msgid "%s is not a mailbox."
 msgstr "%s ist keine Mailbox."
 
-#: curs_main.c:1334
+#: curs_main.c:1303
 msgid "Exit Mutt without saving?"
 msgstr "Mutt verlassen, ohne Änderungen zu speichern?"
 
-#: curs_main.c:1352 curs_main.c:1388 curs_main.c:1846 curs_main.c:1878
-#: flags.c:301 thread.c:1028 thread.c:1083 thread.c:1138
+#: curs_main.c:1321 curs_main.c:1357 curs_main.c:1815 curs_main.c:1847
+#: flags.c:282 thread.c:1028 thread.c:1083 thread.c:1138
 msgid "Threading is not enabled."
 msgstr "Darstellung von Diskussionsfäden ist nicht eingeschaltet."
 
-#: curs_main.c:1364
+#: curs_main.c:1333
 msgid "Thread broken"
 msgstr "Diskussionsfaden unterbrochen"
 
-#: curs_main.c:1375
+#: curs_main.c:1344
 msgid "Thread cannot be broken, message is not part of a thread"
 msgstr "Nachricht ist nicht Teil eines Diskussionsfadens"
 
 #. L10N: CHECK_ACL
-#: curs_main.c:1385
+#: curs_main.c:1354
 #, fuzzy
 msgid "Cannot link threads"
 msgstr "Diskussionsfäden verlinken"
 
-#: curs_main.c:1390
+#: curs_main.c:1359
 msgid "No Message-ID: header available to link thread"
 msgstr "Keine Message-ID verfügbar, um Diskussionsfaden aufzubauen"
 
-#: curs_main.c:1392
+#: curs_main.c:1361
 msgid "First, please tag a message to be linked here"
 msgstr "Bitte erst eine Nachricht zur Verlinkung markieren"
 
-#: curs_main.c:1404
+#: curs_main.c:1373
 msgid "Threads linked"
 msgstr "Diskussionfäden verbunden"
 
-#: curs_main.c:1407
+#: curs_main.c:1376
 msgid "No thread linked"
 msgstr "Kein Diskussionsfaden verbunden"
 
-#: curs_main.c:1443 curs_main.c:1468
+#: curs_main.c:1412 curs_main.c:1437
 msgid "You are on the last message."
 msgstr "Sie sind bereits auf der letzten Nachricht."
 
-#: curs_main.c:1450 curs_main.c:1494
+#: curs_main.c:1419 curs_main.c:1463
 msgid "No undeleted messages."
 msgstr "Keine ungelöschten Nachrichten."
 
-#: curs_main.c:1487 curs_main.c:1511
+#: curs_main.c:1456 curs_main.c:1480
 msgid "You are on the first message."
 msgstr "Sie sind bereits auf der ersten Nachricht."
 
-#: curs_main.c:1586 menu.c:773 pager.c:2115 pattern.c:1491
+#: curs_main.c:1555 menu.c:757 pager.c:2057 pattern.c:1489
 msgid "Search wrapped to top."
 msgstr "Suche von vorne begonnen."
 
-#: curs_main.c:1595 pager.c:2137 pattern.c:1502
+#: curs_main.c:1564 pager.c:2079 pattern.c:1500
 msgid "Search wrapped to bottom."
 msgstr "Suche von hinten begonnen."
 
-#: curs_main.c:1639
+#: curs_main.c:1608
 #, fuzzy
 msgid "No new messages in this limited view."
 msgstr "Bezugsnachricht ist in dieser begrenzten Sicht nicht sichtbar."
 
-#: curs_main.c:1641
+#: curs_main.c:1610
 #, fuzzy
 msgid "No new messages."
 msgstr "Keine neuen Nachrichten"
 
-#: curs_main.c:1646
+#: curs_main.c:1615
 #, fuzzy
 msgid "No unread messages in this limited view."
 msgstr "Bezugsnachricht ist in dieser begrenzten Sicht nicht sichtbar."
 
-#: curs_main.c:1648
+#: curs_main.c:1617
 #, fuzzy
 msgid "No unread messages."
 msgstr "Keine ungelesenen Nachrichten"
 
 #. L10N: CHECK_ACL
-#: curs_main.c:1666
+#: curs_main.c:1635
 #, fuzzy
 msgid "Cannot flag message"
 msgstr "Indikator setzen"
 
 #. L10N: CHECK_ACL
-#: curs_main.c:1704 pager.c:2728
+#: curs_main.c:1673 pager.c:2668
 #, fuzzy
 msgid "Cannot toggle new"
 msgstr "Umschalten zwischen neu/nicht neu"
 
-#: curs_main.c:1781
+#: curs_main.c:1750
 msgid "No more threads."
 msgstr "Keine weiteren Diskussionsfäden."
 
-#: curs_main.c:1783
+#: curs_main.c:1752
 msgid "You are on the first thread."
 msgstr "Sie haben bereits den ersten Diskussionsfaden ausgewählt."
 
-#: curs_main.c:1864
+#: curs_main.c:1833
 msgid "Thread contains unread messages."
 msgstr "Diskussionsfaden enthält ungelesene Nachrichten."
 
 #. L10N: CHECK_ACL
-#: curs_main.c:1960 pager.c:2417
+#: curs_main.c:1928 pager.c:2358
 #, fuzzy
 msgid "Cannot delete message"
 msgstr "Löschmarkierung entfernen"
 
 #. L10N: CHECK_ACL
-#: curs_main.c:2046
+#: curs_main.c:2012
 #, fuzzy
 msgid "Cannot edit message"
 msgstr "Kann Nachricht nicht schreiben"
 
 #. L10N: CHECK_ACL
-#: curs_main.c:2178
+#: curs_main.c:2144
 #, fuzzy
 msgid "Cannot mark message(s) as read"
 msgstr "Nachricht(en) als gelesen markieren"
 
 #. L10N: CHECK_ACL
-#: curs_main.c:2274 pager.c:2748
+#: curs_main.c:2240 pager.c:2688
 #, fuzzy
 msgid "Cannot undelete message"
 msgstr "Löschmarkierung entfernen"
@@ -1979,93 +1973,93 @@ msgstr "Kann Nachrichten-Datei nicht öff
 msgid "Can't append to folder: %s"
 msgstr "Kann an Mailbox nicht anhängen: %s"
 
-#: editmsg.c:210
+#: editmsg.c:209
 #, c-format
 msgid "Error. Preserving temporary file: %s"
 msgstr "Fehler. Speichere temporäre Datei als %s ab."
 
-#: flags.c:345
+#: flags.c:325
 msgid "Set flag"
 msgstr "Setze Indikator"
 
-#: flags.c:345
+#: flags.c:325
 msgid "Clear flag"
 msgstr "Entferne Indikator"
 
-#: handler.c:1139
+#: handler.c:1138
 msgid "[-- Error:  Could not display any parts of Multipart/Alternative! --]\n"
 msgstr ""
 "[-- Fehler: Konnte keinen der multipart/alternative-Teile anzeigen! --]\n"
 
-#: handler.c:1254
+#: handler.c:1253
 #, c-format
 msgid "[-- Attachment #%d"
 msgstr "[-- Anhang #%d"
 
-#: handler.c:1266
+#: handler.c:1265
 #, c-format
 msgid "[-- Type: %s/%s, Encoding: %s, Size: %s --]\n"
 msgstr "[-- Typ: %s/%s, Kodierung: %s, Größe: %s --]\n"
 
-#: handler.c:1282
+#: handler.c:1281
 msgid "One or more parts of this message could not be displayed"
 msgstr "Warnung: Mind. ein Teil dieser Nachricht konnte nicht angezeigt werden"
 
-#: handler.c:1334
+#: handler.c:1333
 #, c-format
 msgid "[-- Autoview using %s --]\n"
 msgstr "[-- Automatische Anzeige mittels %s --]\n"
 
-#: handler.c:1335
+#: handler.c:1334
 #, c-format
 msgid "Invoking autoview command: %s"
 msgstr "Automatische Anzeige mittels: %s"
 
-#: handler.c:1367
+#: handler.c:1366
 #, c-format
 msgid "[-- Can't run %s. --]\n"
 msgstr "[-- Kann %s nicht ausführen. --]\n"
 
-#: handler.c:1386 handler.c:1407
+#: handler.c:1385 handler.c:1406
 #, c-format
 msgid "[-- Autoview stderr of %s --]\n"
 msgstr "[-- Fehlerausgabe von %s --]\n"
 
-#: handler.c:1446
+#: handler.c:1445
 msgid "[-- Error: message/external-body has no access-type parameter --]\n"
 msgstr ""
 "[-- Fehler: message/external-body hat keinen access-type Parameter --]\n"
 
-#: handler.c:1467
+#: handler.c:1466
 #, c-format
 msgid "[-- This %s/%s attachment "
 msgstr "[-- Dieser %s/%s-Anhang "
 
-#: handler.c:1474
+#: handler.c:1473
 #, c-format
 msgid "(size %s bytes) "
 msgstr "(Größe %s Byte) "
 
-#: handler.c:1476
+#: handler.c:1475
 msgid "has been deleted --]\n"
 msgstr "wurde gelöscht --]\n"
 
-#: handler.c:1481
+#: handler.c:1480
 #, c-format
 msgid "[-- on %s --]\n"
 msgstr "[-- am %s --]\n"
 
-#: handler.c:1486
+#: handler.c:1485
 #, c-format
 msgid "[-- name: %s --]\n"
 msgstr "[-- Name: %s --]\n"
 
-#: handler.c:1499 handler.c:1515
+#: handler.c:1498 handler.c:1514
 #, c-format
 msgid "[-- This %s/%s attachment is not included, --]\n"
 msgstr "[-- Dieser %s/%s-Anhang ist nicht in der Nachricht enthalten, --]\n"
 
-#: handler.c:1501
+#: handler.c:1500
 msgid ""
 "[-- and the indicated external source has --]\n"
 "[-- expired. --]\n"
@@ -2073,34 +2067,34 @@ msgstr ""
 "[-- und die zugehörige externe Quelle --]\n"
 "[-- existiert nicht mehr. --]\n"
 
-#: handler.c:1519
+#: handler.c:1518
 #, c-format
 msgid "[-- and the indicated access-type %s is unsupported --]\n"
 msgstr "[-- und die angegebene Zugangsmethode %s wird nicht unterstützt --]\n"
 
-#: handler.c:1625
+#: handler.c:1624
 msgid "Unable to open temporary file!"
 msgstr "Konnte temporäre Datei nicht öffnen!"
 
-#: handler.c:1771
+#: handler.c:1770
 msgid "Error: multipart/signed has no protocol."
 msgstr "Fehler: multipart/signed ohne \"protocol\"-Parameter."
 
-#: handler.c:1822
+#: handler.c:1821
 msgid "[-- This is an attachment "
 msgstr "[-- Dies ist ein Anhang "
 
-#: handler.c:1824
+#: handler.c:1823
 #, c-format
 msgid "[-- %s/%s is unsupported "
 msgstr "[-- %s/%s wird nicht unterstützt "
 
-#: handler.c:1831
+#: handler.c:1830
 #, c-format
 msgid "(use '%s' to view this part)"
 msgstr "(benutzen Sie '%s', um diesen Teil anzuzeigen)"
 
-#: handler.c:1833
+#: handler.c:1832
 msgid "(need 'view-attachments' bound to key!)"
 msgstr "(Tastaturbindung für 'view-attachments' benötigt!)"
 
@@ -2109,15 +2103,15 @@ msgstr "(Tastaturbindung für 'view-attac
 msgid "%s: unable to attach file"
 msgstr "%s: Kann Datei nicht anhängen."
 
-#: help.c:310
+#: help.c:306
 msgid "ERROR: please report this bug"
 msgstr "ERROR: Bitte melden sie diesen Fehler"
 
-#: help.c:352
+#: help.c:348
 msgid "<UNKNOWN>"
 msgstr "<unbekannt>"
 
-#: help.c:364
+#: help.c:360
 msgid ""
 "\n"
 "Generic bindings:\n"
@@ -2127,7 +2121,7 @@ msgstr ""
 "Allgemeine Tastenbelegungen:\n"
 "\n"
 
-#: help.c:368
+#: help.c:364
 msgid ""
 "\n"
 "Unbound functions:\n"
@@ -2137,7 +2131,7 @@ msgstr ""
 "Funktionen ohne Bindung an Taste:\n"
 "\n"
 
-#: help.c:376
+#: help.c:372
 #, c-format
 msgid "Help for %s"
 msgstr "Hilfe für %s"
@@ -2147,6 +2141,10 @@ msgstr "Hilfe für %s"
 msgid "Bad history file format (line %d)"
 msgstr "Falsches Format der Datei früherer Eingaben (Zeile %d)"
 
+#: hook.c:96
+msgid "badly formatted command string"
+msgstr "Hook enthält nicht die Muster %f und %t"
+
 #: hook.c:93
 msgid "current mailbox shortcut '^' is unset"
 msgstr ""
@@ -2219,47 +2217,42 @@ msgstr "Authentifiziere (%s)..."
 msgid "SASL authentication failed."
 msgstr "SASL Authentifizierung fehlgeschlagen."
 
-#: imap/browse.c:59 imap/imap.c:569
+#: imap/browse.c:58 imap/imap.c:569
 #, c-format
 msgid "%s is an invalid IMAP path"
 msgstr "%s ist ein ungültiger IMAP Pfad"
 
-#: imap/browse.c:70
+#: imap/browse.c:69
 msgid "Getting folder list..."
 msgstr "Hole Liste der Ordner..."
 
-#: imap/browse.c:190
+#: imap/browse.c:189
 msgid "No such folder"
 msgstr "Ordner existiert nicht"
 
-#: imap/browse.c:243
+#: imap/browse.c:278
 msgid "Create mailbox: "
 msgstr "Erzeuge Mailbox: "
 
-#: imap/browse.c:248 imap/browse.c:301
+#: imap/browse.c:283 imap/browse.c:338
 msgid "Mailbox must have a name."
 msgstr "Mailbox muss einen Namen haben."
 
-#: imap/browse.c:256
+#: imap/browse.c:291
 msgid "Mailbox created."
 msgstr "Mailbox erzeugt."
 
-#: imap/browse.c:289
-#, fuzzy
-msgid "Cannot rename root folder"
-msgstr "Kann Wurzel-Mailbox nicht löschen"
-
-#: imap/browse.c:293
+#: imap/browse.c:330
 #, c-format
 msgid "Rename mailbox %s to: "
 msgstr "Benenne Mailbox %s um in: "
 
-#: imap/browse.c:309
+#: imap/browse.c:346
 #, c-format
 msgid "Rename failed: %s"
 msgstr "Umbenennung fehlgeschlagen: %s"
 
-#: imap/browse.c:314
+#: imap/browse.c:351
 msgid "Mailbox renamed."
 msgstr "Mailbox umbenannt."
 
@@ -2293,84 +2286,79 @@ msgstr "Konnte keine TLS-Verbindung real
 msgid "Encrypted connection unavailable"
 msgstr "Verschlüsselte Verbindung nicht verfügbar"
 
-#: imap/imap.c:602
+#: imap/imap.c:601
 #, c-format
 msgid "Selecting %s..."
 msgstr "Wähle %s aus..."
 
-#: imap/imap.c:757
+#: imap/imap.c:756
 msgid "Error opening mailbox"
 msgstr "Fehler beim Öffnen der Mailbox"
 
-#: imap/imap.c:808 imap/imap.c:2147 imap/message.c:877 muttlib.c:1565
+#: imap/imap.c:808 imap/message.c:861 muttlib.c:1541
 #, c-format
 msgid "Create %s?"
 msgstr "%s erstellen?"
 
-#: imap/imap.c:1201
+#: imap/imap.c:1183
 msgid "Expunge failed"
 msgstr "Löschen fehlgeschlagen"
 
-#: imap/imap.c:1213
+#: imap/imap.c:1195
 #, c-format
 msgid "Marking %d messages deleted..."
 msgstr "Markiere %d Nachrichten zum Löschen..."
 
-#: imap/imap.c:1245
+#: imap/imap.c:1227
 #, c-format
 msgid "Saving changed messages... [%d/%d]"
 msgstr "Speichere veränderte Nachrichten... [%d/%d]"
 
-#: imap/imap.c:1300
+#: imap/imap.c:1282
 msgid "Error saving flags. Close anyway?"
 msgstr "Fehler beim Speichern der Markierungen. Trotzdem Schließen?"
 
-#: imap/imap.c:1308
+#: imap/imap.c:1290
 msgid "Error saving flags"
 msgstr "Fehler beim Speichern der Markierungen"
 
-#: imap/imap.c:1331
+#: imap/imap.c:1313
 msgid "Expunging messages from server..."
 msgstr "Lösche Nachrichten auf dem Server..."
 
-#: imap/imap.c:1336
+#: imap/imap.c:1318
 msgid "imap_sync_mailbox: EXPUNGE failed"
 msgstr "imap_sync_mailbox: EXPUNGE fehlgeschlagen"
 
-#: imap/imap.c:1805
+#: imap/imap.c:1768
 #, c-format
 msgid "Header search without header name: %s"
 msgstr "Suche im Nachrichtenkopf ohne Angabe des Feldes: %s"
 
-#: imap/imap.c:1876
+#: imap/imap.c:1839
 msgid "Bad mailbox name"
 msgstr "Unzulässiger Mailbox Name"
 
-#: imap/imap.c:1900
+#: imap/imap.c:1863
 #, c-format
 msgid "Subscribing to %s..."
 msgstr "Abonniere %s..."
 
-#: imap/imap.c:1902
+#: imap/imap.c:1865
 #, c-format
 msgid "Unsubscribing from %s..."
 msgstr "Beende Abonnement von %s..."
 
-#: imap/imap.c:1912
+#: imap/imap.c:1875
 #, c-format
 msgid "Subscribed to %s"
 msgstr "Abonniere %s"
 
-#: imap/imap.c:1914
+#: imap/imap.c:1877
 #, c-format
 msgid "Unsubscribed from %s"
 msgstr "Abonnement von %s beendet"
 
-#: imap/imap.c:2132 imap/message.c:841
-#, c-format
-msgid "Copying %d messages to %s..."
-msgstr "Kopiere %d Nachrichten nach %s..."
-
 #: imap/message.c:98
 msgid "Unable to fetch headers from this IMAP server version."
 msgstr ""
@@ -2391,20 +2379,25 @@ msgstr "Werte Cache aus..."
 msgid "Fetching message headers..."
 msgstr "Hole Nachrichten-Köpfe..."
 
-#: imap/message.c:444 imap/message.c:501 pop.c:573
+#: imap/message.c:443 imap/message.c:500 pop.c:572
 msgid "Fetching message..."
 msgstr "Hole Nachricht..."
 
-#: imap/message.c:490 pop.c:568
+#: imap/message.c:489 pop.c:567
 msgid "The message index is incorrect. Try reopening the mailbox."
 msgstr ""
 "Der Nachrichtenindex ist fehlerhaft. Versuche die Mailbox neu zu öffnen."
 
-#: imap/message.c:660
+#: imap/message.c:644
 msgid "Uploading message..."
 msgstr "Lade Nachricht auf den Server..."
 
-#: imap/message.c:845
+#: imap/message.c:825
+#, c-format
+msgid "Copying %d messages to %s..."
+msgstr "Kopiere %d Nachrichten nach %s..."
+
+#: imap/message.c:829
 #, c-format
 msgid "Copying message %d to %s..."
 msgstr "Kopiere Nachricht %d nach %s..."
@@ -2413,7 +2406,7 @@ msgstr "Kopiere Nachricht %d nach %s..."
 msgid "Continue?"
 msgstr "Weiter?"
 
-#: init.c:60 init.c:1768 pager.c:53
+#: init.c:60 init.c:1762 pager.c:50
 #, c-format
 msgid "Not available in this menu."
 msgstr "Funktion ist in diesem Menü nicht verfügbar."
@@ -2485,126 +2478,126 @@ msgstr "%s: Unbekannte Sortiermethode"
 msgid "mutt_restore_default(%s): error in regexp: %s\n"
 msgstr "mutt_restore_default(%s): Fehler in regulärem Ausdruck: %s\n"
 
-#: init.c:1745 init.c:1858
+#: init.c:1739 init.c:1852
 #, c-format
 msgid "%s: unknown variable"
 msgstr "%s: Unbekannte Variable."
 
-#: init.c:1754
+#: init.c:1748
 #, c-format
 msgid "prefix is illegal with reset"
 msgstr "Präfix ist bei \"reset\" nicht zulässig."
 
-#: init.c:1760
+#: init.c:1754
 #, c-format
 msgid "value is illegal with reset"
 msgstr "Wertzuweisung ist bei \"reset\" nicht zulässig."
 
-#: init.c:1796 init.c:1808
+#: init.c:1790 init.c:1802
 #, c-format
 msgid "Usage: set variable=yes|no"
 msgstr "Benutzung: set variable=yes|no"
 
-#: init.c:1816
+#: init.c:1810
 #, c-format
 msgid "%s is set"
 msgstr "%s ist gesetzt."
 
-#: init.c:1816
+#: init.c:1810
 #, c-format
 msgid "%s is unset"
 msgstr "%s ist nicht gesetzt."
 
-#: init.c:1919
+#: init.c:1913
 #, c-format
 msgid "Invalid value for option %s: \"%s\""
 msgstr "Ungültiger Wert für Variable %s: \"%s\""
 
-#: init.c:2056
+#: init.c:2050
 #, c-format
 msgid "%s: invalid mailbox type"
 msgstr "%s: Ungültiger Mailbox-Typ"
 
-#: init.c:2087
+#: init.c:2081
 #, c-format
 msgid "%s: invalid value (%s)"
 msgstr "%s: ungültiger Wert (%s)"
 
-#: init.c:2088
+#: init.c:2082
 msgid "format error"
 msgstr "Format-Fehler"
 
-#: init.c:2088
+#: init.c:2082
 msgid "number overflow"
 msgstr "Zahlenüberlauf"
 
-#: init.c:2148
+#: init.c:2142
 #, c-format
 msgid "%s: invalid value"
 msgstr "%s: Ungültiger Wert"
 
-#: init.c:2192
+#: init.c:2183
 #, c-format
 msgid "%s: Unknown type."
 msgstr "%s: Unbekannter Typ."
 
-#: init.c:2219
+#: init.c:2210
 #, c-format
 msgid "%s: unknown type"
 msgstr "%s: Unbekannter Typ"
 
-#: init.c:2287
+#: init.c:2272
 #, c-format
 msgid "Error in %s, line %d: %s"
 msgstr "Fehler in %s, Zeile %d: %s"
 
-#: init.c:2310
+#: init.c:2295
 #, c-format
 msgid "source: errors in %s"
 msgstr "source: Fehler in %s"
 
-#: init.c:2311
+#: init.c:2296
 #, fuzzy, c-format
 msgid "source: reading aborted due to too many errors in %s"
 msgstr "source: Lesevorgang abgebrochen, zu viele Fehler in %s"
 
-#: init.c:2325
+#: init.c:2310
 #, c-format
 msgid "source: error at %s"
 msgstr "source: Fehler bei %s"
 
-#: init.c:2330
+#: init.c:2315
 msgid "source: too many arguments"
 msgstr "source: Zu viele Argumente"
 
-#: init.c:2384
+#: init.c:2369
 #, c-format
 msgid "%s: unknown command"
 msgstr "%s: Unbekanntes Kommando"
 
-#: init.c:2872
+#: init.c:2857
 #, c-format
 msgid "Error in command line: %s\n"
 msgstr "Fehler in Kommandozeile: %s\n"
 
-#: init.c:2951
+#: init.c:2936
 msgid "unable to determine home directory"
 msgstr "Kann Home-Verzeichnis nicht bestimmen."
 
-#: init.c:2959
+#: init.c:2944
 msgid "unable to determine username"
 msgstr "Kann Nutzernamen nicht bestimmen."
 
-#: init.c:2985
+#: init.c:2970
 #, fuzzy
 msgid "unable to determine nodename via uname()"
 msgstr "Kann Nutzernamen nicht bestimmen."
 
-#: init.c:3229
+#: init.c:3214
 msgid "-group: no group name"
 msgstr "-group: Kein Gruppen Name"
 
-#: init.c:3239
+#: init.c:3224
 msgid "out of arguments"
 msgstr "Zu wenige Parameter"
 
@@ -2681,7 +2674,7 @@ msgstr "Integer Überlauf -- Kann keinen 
 msgid "Out of memory!"
 msgstr "Kein Speicher verfügbar!"
 
-#: main.c:68
+#: main.c:65
 msgid ""
 "To contact the developers, please mail to <mutt-dev@mutt.org>.\n"
 "To report a bug, please visit http://bugs.mutt.org/.\n"
@@ -2690,7 +2683,7 @@ msgstr ""
 "eine Nachricht (in englisch) an <mutt-dev@mutt.org>.\n"
 "Um einen Bug zu melden, besuchen Sie bitte http://bugs.mutt.org/.\n"
 
-#: main.c:72
+#: main.c:69
 #, fuzzy
 msgid ""
 "Copyright (C) 1996-2016 Michael R. Elkins and others.\n"
@@ -2704,10 +2697,10 @@ msgstr ""
 "Sie können es unter bestimmten Bedingungen weitergeben; starten Sie\n"
 "`mutt -vv' für weitere Details.\n"
 
-#: main.c:78
+#: main.c:75
 #, fuzzy
 msgid ""
-"Copyright (C) 1996-2016 Michael R. Elkins <me@mutt.org>\n"
+"Copyright (C) 1996-2014 Michael R. Elkins <me@mutt.org>\n"
 "Copyright (C) 1996-2002 Brandon Long <blong@fiction.net>\n"
 "Copyright (C) 1997-2009 Thomas Roessler <roessler@does-not-exist.org>\n"
 "Copyright (C) 1998-2005 Werner Koch <wk@isil.d.shuttle.de>\n"
@@ -2715,7 +2708,7 @@ msgid ""
 "Copyright (C) 1999-2002 Tommi Komulainen <Tommi.Komulainen@iki.fi>\n"
 "Copyright (C) 2000-2004 Edmund Grimley Evans <edmundo@rano.org>\n"
 "Copyright (C) 2006-2009 Rocco Rutte <pdmef@gmx.net>\n"
-"Copyright (C) 2014-2016 Kevin J. McCarthy <kevin@8t8.us>\n"
+"Copyright (C) 2014-2015 Kevin J. McCarthy <kevin@8t8.us>\n"
 "\n"
 "Many others not mentioned here contributed code, fixes,\n"
 "and suggestions.\n"
@@ -2732,7 +2725,7 @@ msgstr ""
 "Unzählige hier nicht einzeln aufgeführte Helfer haben Code,\n"
 "Fehlerkorrekturen und hilfreiche Hinweise beigesteuert.\n"
 
-#: main.c:92
+#: main.c:89
 msgid ""
 "    This program is free software; you can redistribute it and/or modify\n"
 "    it under the terms of the GNU General Public License as published by\n"
@@ -2756,7 +2749,7 @@ msgstr ""
 "    BESTIMMTEN ZWECK. Entnehmen Sie alle weiteren Details der\n"
 "    GNU General Public License.\n"
 
-#: main.c:102
+#: main.c:99
 msgid ""
 "    You should have received a copy of the GNU General Public License\n"
 "    along with this program; if not, write to the Free Software\n"
@@ -2768,7 +2761,7 @@ msgstr ""
 "    Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,\n"
 "    Boston, MA 02110-1301, USA.\n"
 
-#: main.c:119
+#: main.c:116
 #, fuzzy
 msgid ""
 "usage: mutt [<options>] [-z] [-f <file> | -yZ]\n"
@@ -2793,7 +2786,7 @@ msgstr ""
 "       mutt [<options>] -D\n"
 "       mutt -v[v]\n"
 
-#: main.c:128
+#: main.c:125
 #, fuzzy
 msgid ""
 "options:\n"
@@ -2811,11 +2804,11 @@ msgstr ""
 "  -c <address>\tEmpfänger einer Kopie (Cc:)\n"
 "  -D\t\tGib die Werte aller Variablen aus"
 
-#: main.c:137
+#: main.c:134
 msgid "  -d <level>\tlog debugging output to ~/.muttdebug0"
 msgstr "  -d <level>\tSschreibe Debug-Informationen nach ~/.muttdebug0"
 
-#: main.c:140
+#: main.c:137
 #, fuzzy
 msgid ""
 "  -E\t\tedit the draft (-H) or include (-i) file\n"
@@ -2837,7 +2830,7 @@ msgstr ""
 "  -n\t\tDas Muttrc des Systems ignorieren\n"
 "  -p\t\tEine zurückgestellte Nachricht zurückholen"
 
-#: main.c:150
+#: main.c:147
 msgid ""
 "  -Q <variable>\tquery a configuration variable\n"
 "  -R\t\topen mailbox in read-only mode\n"
@@ -2859,7 +2852,7 @@ msgstr ""
 "  -Z\t\tÖffne erste Mailbox mit neuen Nachrichten oder beenden\n"
 "  -h\t\tDiese Hilfe"
 
-#: main.c:231
+#: main.c:228
 msgid ""
 "\n"
 "Compile options:"
@@ -2867,216 +2860,206 @@ msgstr ""
 "\n"
 "Einstellungen bei der Compilierung:"
 
-#: main.c:541
+#: main.c:532
 msgid "Error initializing terminal."
 msgstr "Kann Terminal nicht initialisieren."
 
-#: main.c:679
+#: main.c:669
 #, c-format
 msgid "Error: value '%s' is invalid for -d.\n"
 msgstr "Fehler: Wert '%s' ist ungültig für -d.\n"
 
-#: main.c:682
+#: main.c:672
 #, c-format
 msgid "Debugging at level %d.\n"
 msgstr "Debugging auf Ebene %d.\n"
 
-#: main.c:684
+#: main.c:674
 msgid "DEBUG was not defined during compilation.  Ignored.\n"
 msgstr "DEBUG war beim Kompilieren nicht definiert.  Ignoriert.\n"
 
-#: main.c:862
+#: main.c:848
 #, c-format
 msgid "%s does not exist. Create it?"
 msgstr "%s existiert nicht. Neu anlegen?"
 
-#: main.c:866
+#: main.c:852
 #, c-format
 msgid "Can't create %s: %s."
 msgstr "Kann %s nicht anlegen: %s."
 
-#: main.c:906
+#: main.c:891
 msgid "Failed to parse mailto: link\n"
 msgstr "Fehler beim Parsen von mailto: Link\n"
 
-#: main.c:918
+#: main.c:903
 msgid "No recipients specified.\n"
 msgstr "Keine Empfänger angegeben.\n"
 
-#: main.c:944
+#: main.c:929
 msgid "Cannot use -E flag with stdin\n"
 msgstr ""
 
-#: main.c:1097
+#: main.c:1082
 #, c-format
 msgid "%s: unable to attach file.\n"
 msgstr "%s: Kann Datei nicht anhängen.\n"
 
-#: main.c:1178
+#: main.c:1162
 msgid "No mailbox with new mail."
 msgstr "Keine Mailbox mit neuen Nachrichten."
 
-#: main.c:1187
+#: main.c:1171
 msgid "No incoming mailboxes defined."
 msgstr "Keine Eingangs-Mailboxen definiert."
 
-#: main.c:1215
+#: main.c:1199
 msgid "Mailbox is empty."
 msgstr "Mailbox ist leer."
 
-#: mbox.c:120 mbox.c:271 mh.c:1255 mx.c:598
+#: mbox.c:119 mbox.c:269 mh.c:1205 mx.c:642
 #, c-format
 msgid "Reading %s..."
 msgstr "Lese %s..."
 
-#: mbox.c:158 mbox.c:215
+#: mbox.c:157 mbox.c:214
 msgid "Mailbox is corrupt!"
 msgstr "Mailbox fehlerhaft!"
 
-#: mbox.c:456
-#, c-format
-msgid "Couldn't lock %s\n"
-msgstr "Kann %s nicht locken.\n"
-
-#: mbox.c:493 mbox.c:508
-msgid "Can't write message"
-msgstr "Kann Nachricht nicht schreiben"
-
-#: mbox.c:748
+#: compress.c:203 mbox.c:661
 msgid "Mailbox was corrupted!"
 msgstr "Mailbox wurde zerstört!"
 
-#: mbox.c:829 mbox.c:1089
+#: mbox.c:751 mbox.c:1011
 msgid "Fatal error!  Could not reopen mailbox!"
 msgstr "Fataler Fehler, konnte Mailbox nicht erneut öffnen!"
 
-#: mbox.c:838
+#: compress.c:246 compress.c:367 compress.c:443 mbox.c:706
 msgid "Unable to lock mailbox!"
 msgstr "Kann Mailbox nicht für exklusiven Zugriff sperren!"
 
-#: mbox.c:881
+#: mbox.c:803
 msgid "sync: mbox modified, but no modified messages! (report this bug)"
 msgstr ""
 "sync: Mailbox verändert, aber Nachrichten unverändert! (bitte Bug melden)"
 
-#: mbox.c:905 mh.c:1889 mx.c:675
+#: mbox.c:827 mh.c:1711 mx.c:739
 #, c-format
 msgid "Writing %s..."
 msgstr "Schreibe %s..."
 
-#: mbox.c:1040
+#: mbox.c:962
 msgid "Committing changes..."
 msgstr "Speichere Änderungen..."
 
-#: mbox.c:1075
+#: mbox.c:997
 #, c-format
 msgid "Write failed!  Saved partial mailbox to %s"
 msgstr "Konnte nicht schreiben! Speichere Teil-Mailbox in %s"
 
-#: mbox.c:1137
+#: mbox.c:1059
 msgid "Could not reopen mailbox!"
 msgstr "Konnte Mailbox nicht erneut öffnen!"
 
-#: mbox.c:1164
+#: mbox.c:1095
 msgid "Reopening mailbox..."
 msgstr "Öffne Mailbox erneut..."
 
-#: menu.c:430
+#: menu.c:418
 msgid "Jump to: "
 msgstr "Springe zu: "
 
-#: menu.c:439
+#: menu.c:427
 msgid "Invalid index number."
 msgstr "Ungültige Indexnummer."
 
-#: menu.c:443 menu.c:464 menu.c:529 menu.c:572 menu.c:588 menu.c:599 menu.c:610
-#: menu.c:621 menu.c:634 menu.c:647 menu.c:1065
+#: menu.c:431 menu.c:452 menu.c:517 menu.c:560 menu.c:576 menu.c:587 menu.c:598
+#: menu.c:609 menu.c:622 menu.c:635 menu.c:1044
 msgid "No entries."
 msgstr "Keine Einträge"
 
-#: menu.c:461
+#: menu.c:449
 msgid "You cannot scroll down farther."
 msgstr "Sie können nicht weiter nach unten gehen."
 
-#: menu.c:479
+#: menu.c:467
 msgid "You cannot scroll up farther."
 msgstr "Sie können nicht weiter nach oben gehen."
 
-#: menu.c:522
+#: menu.c:510
 msgid "You are on the first page."
 msgstr "Sie sind auf der ersten Seite."
 
-#: menu.c:523
+#: menu.c:511
 msgid "You are on the last page."
 msgstr "Sie sind auf der letzten Seite."
 
-#: menu.c:658
+#: menu.c:646
 msgid "You are on the last entry."
 msgstr "Sie sind auf dem letzten Eintrag."
 
-#: menu.c:669
+#: menu.c:657
 msgid "You are on the first entry."
 msgstr "Sie sind auf dem ersten Eintrag"
 
-#: menu.c:747 pager.c:2159 pattern.c:1430
+#: menu.c:731 pager.c:2101 pattern.c:1428
 msgid "Search for: "
 msgstr "Suche nach: "
 
-#: menu.c:747 pager.c:2159 pattern.c:1430
+#: menu.c:731 pager.c:2101 pattern.c:1428
 msgid "Reverse search for: "
 msgstr "Suche rückwärts nach: "
 
-#: menu.c:791 pager.c:2112 pager.c:2134 pager.c:2254 pattern.c:1545
+#: menu.c:775 pager.c:2054 pager.c:2076 pager.c:2196 pattern.c:1543
 msgid "Not found."
 msgstr "Nicht gefunden."
 
-#: menu.c:922
+#: menu.c:901
 msgid "No tagged entries."
 msgstr "Keine markierten Einträge."
 
-#: menu.c:1022
+#: menu.c:1001
 msgid "Search is not implemented for this menu."
 msgstr "In diesem Menü kann nicht gesucht werden."
 
-#: menu.c:1027
+#: menu.c:1006
 msgid "Jumping is not implemented for dialogs."
 msgstr "Springen in Dialogen ist nicht möglich."
 
-#: menu.c:1068
+#: menu.c:1047
 msgid "Tagging is not supported."
 msgstr "Markieren wird nicht unterstützt."
 
-#: mh.c:1235
+#: mh.c:1184
 #, c-format
 msgid "Scanning %s..."
 msgstr "Durchsuche %s..."
 
-#: mh.c:1558 mh.c:1641
+#: mh.c:1385 mh.c:1463
 msgid "Could not flush message to disk"
 msgstr "Konnte Nachricht nicht auf Festplatte speichern"
 
-#: mh.c:1603
-#, fuzzy
-msgid "_maildir_commit_message(): unable to set time on file"
+#: mh.c:1430
+msgid "maildir_commit_message(): unable to set time on file"
 msgstr "maildir_commit_message(): kann Zeitstempel der Datei nicht setzen"
 
-#: mutt_sasl.c:196
+#: mutt_sasl.c:194
 msgid "Unknown SASL profile"
 msgstr "Unbekanntes SASL Profil"
 
-#: mutt_sasl.c:230
+#: mutt_sasl.c:228
 msgid "Error allocating SASL connection"
 msgstr "Fehler beim Aufbau der SASL Verbindung"
 
-#: mutt_sasl.c:241
+#: mutt_sasl.c:239
 msgid "Error setting SASL security properties"
 msgstr "Fehler beim Setzen der SASL Sicherheitsparameter"
 
-#: mutt_sasl.c:251
+#: mutt_sasl.c:249
 msgid "Error setting SASL external security strength"
 msgstr "Fehler beim Setzen der externen SASL Sicherheitstärke"
 
-#: mutt_sasl.c:260
+#: mutt_sasl.c:258
 msgid "Error setting SASL external user name"
 msgstr "Fehler beim Setzen des externen SASL Benutzernamens"
 
@@ -3123,44 +3106,35 @@ msgstr "Verbinde zu %s..."
 msgid "Could not connect to %s (%s)."
 msgstr "Kann keine Verbindung zu %s aufbauen (%s)."
 
-#: mutt_ssl.c:226
+#: mutt_ssl.c:225
 msgid "Failed to find enough entropy on your system"
 msgstr "Nicht genügend Entropie auf diesem System gefunden"
 
-#: mutt_ssl.c:250
+#: mutt_ssl.c:249
 #, c-format
 msgid "Filling entropy pool: %s...\n"
 msgstr "Sammle Entropie für Zufallsgenerator: %s...\n"
 
-#: mutt_ssl.c:258
+#: mutt_ssl.c:257
 #, c-format
 msgid "%s has insecure permissions!"
 msgstr "%s hat unsichere Zugriffsrechte!"
 
-#: mutt_ssl.c:277
+#: mutt_ssl.c:276
 #, fuzzy
 msgid "SSL disabled due to the lack of entropy"
 msgstr "SSL deaktiviert, weil nicht genügend Entropie zur Verfügung steht"
 
-#. L10N: an SSL context is a data structure returned by the OpenSSL
-#. *       function SSL_CTX_new().  In this case it returned NULL: an
-#. *       error condition.
-#.
-#: mutt_ssl.c:344
-#, fuzzy
-msgid "Unable to create SSL context"
-msgstr "Fehler: Kann keinen OpenSSL Prozess erzeugen!"
-
-#: mutt_ssl.c:420
+#: mutt_ssl.c:409
 msgid "I/O error"
 msgstr "Ein-/Ausgabe Fehler"
 
-#: mutt_ssl.c:429
+#: mutt_ssl.c:418
 #, c-format
 msgid "SSL failed: %s"
 msgstr "SSL fehlgeschlagen: %s"
 
-#: mutt_ssl.c:438 mutt_ssl_gnutls.c:1079 mutt_ssl_gnutls.c:1114
+#: mutt_ssl.c:427 mutt_ssl_gnutls.c:1079 mutt_ssl_gnutls.c:1114
 #: mutt_ssl_gnutls.c:1124
 msgid "Unable to get certificate from peer"
 msgstr "Kann kein Zertifikat vom Server erhalten"
@@ -3169,104 +3143,104 @@ msgstr "Kann kein Zertifikat vom Server 
 #. %1$s is version (e.g. "TLSv1.2")
 #. %2$s is cipher_version (e.g. "TLSv1/SSLv3")
 #. %3$s is cipher_name (e.g. "ECDHE-RSA-AES128-GCM-SHA256")
-#: mutt_ssl.c:450
+#: mutt_ssl.c:439
 #, fuzzy, c-format
 msgid "%s connection using %s (%s)"
 msgstr "SSL Verbindung unter Verwendung von %s (%s)"
 
-#: mutt_ssl.c:576
+#: mutt_ssl.c:541
 msgid "Unknown"
 msgstr "unbekannt"
 
-#: mutt_ssl.c:601 mutt_ssl_gnutls.c:598
+#: mutt_ssl.c:566 mutt_ssl_gnutls.c:598
 #, c-format
 msgid "[unable to calculate]"
 msgstr "[kann nicht berechnet werden]"
 
-#: mutt_ssl.c:619 mutt_ssl_gnutls.c:621
+#: mutt_ssl.c:584 mutt_ssl_gnutls.c:621
 msgid "[invalid date]"
 msgstr "[ungültiges Datum]"
 
-#: mutt_ssl.c:747
+#: mutt_ssl.c:712
 msgid "Server certificate is not yet valid"
 msgstr "Zertifikat des Servers ist noch nicht gültig"
 
-#: mutt_ssl.c:754
+#: mutt_ssl.c:719
 msgid "Server certificate has expired"
 msgstr "Zertifikat des Servers ist abgelaufen"
 
-#: mutt_ssl.c:876
+#: mutt_ssl.c:841
 msgid "cannot get certificate subject"
 msgstr "Kann Subject des Zertifikats nicht ermitteln"
 
-#: mutt_ssl.c:886 mutt_ssl.c:895
+#: mutt_ssl.c:851 mutt_ssl.c:860
 msgid "cannot get certificate common name"
 msgstr "Kann Common Name des Zertifikats nicht ermitteln"
 
-#: mutt_ssl.c:909
+#: mutt_ssl.c:874
 #, c-format
 msgid "certificate owner does not match hostname %s"
 msgstr "Zertifikat-Inhaber stimmt nicht mit Rechnername %s überein"
 
-#: mutt_ssl.c:950
+#: mutt_ssl.c:915
 #, c-format
 msgid "Certificate host check failed: %s"
 msgstr "Prüfung des Rechnernames in Zertifikat gescheitert: %s"
 
-#: mutt_ssl.c:1028 mutt_ssl_gnutls.c:860
+#: mutt_ssl.c:993 mutt_ssl_gnutls.c:860
 msgid "This certificate belongs to:"
 msgstr "Dieses Zertifikat gehört zu:"
 
-#: mutt_ssl.c:1041 mutt_ssl_gnutls.c:899
+#: mutt_ssl.c:1006 mutt_ssl_gnutls.c:899
 msgid "This certificate was issued by:"
 msgstr "Dieses Zertifikat wurde ausgegeben von:"
 
-#: mutt_ssl.c:1052 mutt_ssl_gnutls.c:938
+#: mutt_ssl.c:1017 mutt_ssl_gnutls.c:938
 #, c-format
 msgid "This certificate is valid"
 msgstr "Dieses Zertifikat ist gültig"
 
-#: mutt_ssl.c:1053 mutt_ssl_gnutls.c:941
+#: mutt_ssl.c:1018 mutt_ssl_gnutls.c:941
 #, c-format
 msgid "   from %s"
 msgstr "    von %s"
 
-#: mutt_ssl.c:1055 mutt_ssl_gnutls.c:945
+#: mutt_ssl.c:1020 mutt_ssl_gnutls.c:945
 #, c-format
 msgid "     to %s"
 msgstr "     an %s"
 
-#: mutt_ssl.c:1061
+#: mutt_ssl.c:1026
 #, c-format
 msgid "Fingerprint: %s"
 msgstr "Fingerabdruck: %s"
 
-#: mutt_ssl.c:1064 mutt_ssl_gnutls.c:982
+#: mutt_ssl.c:1029 mutt_ssl_gnutls.c:982
 #, c-format
 msgid "SSL Certificate check (certificate %d of %d in chain)"
 msgstr "SSL Zertifikatprüfung (Zertifikat %d von %d in Kette)"
 
-#: mutt_ssl.c:1072 mutt_ssl_gnutls.c:991
+#: mutt_ssl.c:1037 mutt_ssl_gnutls.c:991
 msgid "(r)eject, accept (o)nce, (a)ccept always"
 msgstr "(z)urückweisen, (e)inmal akzeptieren, (i)mmer akzeptieren"
 
-#: mutt_ssl.c:1073 mutt_ssl_gnutls.c:992
+#: mutt_ssl.c:1038 mutt_ssl_gnutls.c:992
 msgid "roa"
 msgstr "zei"
 
-#: mutt_ssl.c:1077 mutt_ssl_gnutls.c:996
+#: mutt_ssl.c:1042 mutt_ssl_gnutls.c:996
 msgid "(r)eject, accept (o)nce"
 msgstr "(z)urückweisen, (e)inmal akzeptieren"
 
-#: mutt_ssl.c:1078 mutt_ssl_gnutls.c:997
+#: mutt_ssl.c:1043 mutt_ssl_gnutls.c:997
 msgid "ro"
 msgstr "ze"
 
-#: mutt_ssl.c:1109 mutt_ssl_gnutls.c:1046
+#: mutt_ssl.c:1074 mutt_ssl_gnutls.c:1046
 msgid "Warning: Couldn't save certificate"
 msgstr "Warnung: Konnte Zertifikat nicht speichern"
 
-#: mutt_ssl.c:1114 mutt_ssl_gnutls.c:1051
+#: mutt_ssl.c:1079 mutt_ssl_gnutls.c:1051
 msgid "Certificate saved"
 msgstr "Zertifikat gespeichert"
 
@@ -3356,179 +3330,178 @@ msgstr "Tunnel-Fehler bei Verbindung mit
 #. L10N:
 #. Means "The path you specified as the destination file is a directory."
 #. See the msgid "Save to file: " (alias.c, recvattach.c)
-#: muttlib.c:976
+#: muttlib.c:974
 msgid "File is a directory, save under it? [(y)es, (n)o, (a)ll]"
 msgstr "Datei ist ein Verzeichnis, darin abspeichern? [(j)a, (n)ein, (a)lle]"
 
-#: muttlib.c:976
+#: muttlib.c:974
 msgid "yna"
 msgstr "jna"
 
 #. L10N:
 #. Means "The path you specified as the destination file is a directory."
 #. See the msgid "Save to file: " (alias.c, recvattach.c)
-#: muttlib.c:995
+#: muttlib.c:993
 msgid "File is a directory, save under it?"
 msgstr "Datei ist ein Verzeichnis, darin abspeichern?"
 
-#: muttlib.c:999
+#: muttlib.c:997
 msgid "File under directory: "
 msgstr "Datei in diesem Verzeichnis: "
 
-#: muttlib.c:1008
+#: muttlib.c:1006
 msgid "File exists, (o)verwrite, (a)ppend, or (c)ancel?"
 msgstr "Datei existiert, (u)eberschreiben, (a)nhängen, a(b)brechen?"
 
-#: muttlib.c:1008
+#: muttlib.c:1006
 msgid "oac"
 msgstr "uab"
 
-#: muttlib.c:1531
+#: muttlib.c:1507
 msgid "Can't save message to POP mailbox."
 msgstr "Kann Nachricht nicht in POP Mailbox schreiben."
 
-#: muttlib.c:1540
+#: muttlib.c:1516
 #, c-format
 msgid "Append messages to %s?"
 msgstr "Nachricht an %s anhängen?"
 
-#: muttlib.c:1552
+#: muttlib.c:1528
 #, c-format
 msgid "%s is not a mailbox!"
 msgstr "%s ist keine Mailbox!"
 
-#: mx.c:143
+#: mx.c:116
 #, c-format
 msgid "Lock count exceeded, remove lock for %s?"
 msgstr "Lock-Datei für %s entfernen?"
 
-#: mx.c:155
+#: mx.c:128
 #, c-format
 msgid "Can't dotlock %s.\n"
 msgstr "Kann %s nicht (dot-)locken.\n"
 
-#: mx.c:211
+#: mx.c:184
 msgid "Timeout exceeded while attempting fcntl lock!"
 msgstr "Konnte fcntl-Lock nicht innerhalb akzeptabler Zeit erhalten."
 
-#: mx.c:217
+#: mx.c:190
 #, c-format
 msgid "Waiting for fcntl lock... %d"
 msgstr "Warte auf fcntl-Lock... %d"
 
-#: mx.c:244
+#: mx.c:217
 msgid "Timeout exceeded while attempting flock lock!"
 msgstr "Konnte flock-Lock nicht innerhalb akzeptabler Zeit erhalten."
 
-#: mx.c:251
+#: mx.c:224
 #, c-format
 msgid "Waiting for flock attempt... %d"
 msgstr "Warte auf flock-Versuch... %d"
 
-#: mx.c:707
+#: mx.c:555
+#, c-format
+msgid "Couldn't lock %s\n"
+msgstr "Kann %s nicht locken.\n"
+
+#: mx.c:771
 #, c-format
 msgid "Could not synchronize mailbox %s!"
 msgstr "Kann Mailbox %s nicht synchronisieren!"
 
-#: mx.c:742
-#, fuzzy
-msgid "message(s) not deleted"
-msgstr "Markiere Nachrichten zum Löschen..."
-
-#: mx.c:775
-#, fuzzy
-msgid "Can't open trash folder"
-msgstr "Kann an Mailbox nicht anhängen: %s"
-
-#: mx.c:844
+#: mx.c:835
 #, c-format
 msgid "Move read messages to %s?"
 msgstr "Verschiebe gelesene Nachrichten nach %s?"
 
-#: mx.c:860 mx.c:1146
+#: mx.c:851 mx.c:1118
 #, c-format
 msgid "Purge %d deleted message?"
 msgstr "Entferne %d als gelöscht markierte Nachrichten?"
 
-#: mx.c:860 mx.c:1146
+#: mx.c:851 mx.c:1118
 #, c-format
 msgid "Purge %d deleted messages?"
 msgstr "Entferne %d als gelöscht markierte Nachrichten?"
 
-#: mx.c:881
+#: mx.c:872
 #, c-format
 msgid "Moving read messages to %s..."
 msgstr "Verschiebe gelesene Nachrichten nach %s..."
 
-#: mx.c:942 mx.c:1137
+#: mx.c:932 mx.c:1109
 msgid "Mailbox is unchanged."
 msgstr "Mailbox unverändert."
 
-#: mx.c:995
+#: mx.c:972
 #, c-format
 msgid "%d kept, %d moved, %d deleted."
 msgstr "%d behalten, %d verschoben, %d gelöscht."
 
-#: mx.c:998 mx.c:1198
+#: mx.c:975 mx.c:1161
 #, c-format
 msgid "%d kept, %d deleted."
 msgstr "%d behalten, %d gelöscht."
 
-#: mx.c:1121
+#: mx.c:1093
 #, c-format
 msgid " Press '%s' to toggle write"
 msgstr " Drücken Sie '%s', um Schreib-Modus ein-/auszuschalten"
 
-#: mx.c:1123
+#: mx.c:1095
 msgid "Use 'toggle-write' to re-enable write!"
 msgstr "Benutzen Sie 'toggle-write', um Schreib-Modus zu reaktivieren"
 
-#: mx.c:1125
+#: mx.c:1097
 #, c-format
 msgid "Mailbox is marked unwritable. %s"
 msgstr "Mailbox ist als unschreibbar markiert. %s"
 
-#: mx.c:1192
+#: mx.c:1155
 msgid "Mailbox checkpointed."
 msgstr "Checkpoint in der Mailbox gesetzt."
 
-#: mx.c:1367
+#: mx.c:1474
+msgid "Can't write message"
+msgstr "Kann Nachricht nicht schreiben"
+
+#: mx.c:1513
 msgid "Integer overflow -- can't allocate memory."
 msgstr "Integer Überlauf -- kann keinen Speicher belegen."
 
-#: pager.c:1554
+#: pager.c:1533
 msgid "PrevPg"
 msgstr "S.zurück"
 
-#: pager.c:1555
+#: pager.c:1534
 msgid "NextPg"
 msgstr "S.vor"
 
-#: pager.c:1559
+#: pager.c:1538
 msgid "View Attachm."
 msgstr "Anhänge betr."
 
-#: pager.c:1562
+#: pager.c:1541
 msgid "Next"
 msgstr "Nächste Nachr."
 
-#: pager.c:2013 pager.c:2044 pager.c:2076 pager.c:2352
+#: pager.c:1955 pager.c:1986 pager.c:2018 pager.c:2294
 msgid "Bottom of message is shown."
 msgstr "Das Ende der Nachricht wird angezeigt."
 
-#: pager.c:2029 pager.c:2051 pager.c:2058 pager.c:2065
+#: pager.c:1971 pager.c:1993 pager.c:2000 pager.c:2007
 msgid "Top of message is shown."
 msgstr "Der Beginn der Nachricht wird angezeigt."
 
-#: pager.c:2290
+#: pager.c:2232
 msgid "Help is currently being shown."
 msgstr "Hilfe wird bereits angezeigt."
 
-#: pager.c:2319
+#: pager.c:2261
 msgid "No more quoted text."
 msgstr "Kein weiterer zitierter Text."
 
-#: pager.c:2332
+#: pager.c:2274
 msgid "No more unquoted text after quoted text."
 msgstr "Kein weiterer eigener Text nach zitiertem Text."
 
@@ -3605,7 +3578,7 @@ msgstr "Leeres Muster"
 msgid "error: unknown op %d (report this error)."
 msgstr "Fehler: Unbekannter Muster-Operator %d (Bitte Bug melden)."
 
-#: pattern.c:1309 pattern.c:1451
+#: pattern.c:1309 pattern.c:1449
 msgid "Compiling search pattern..."
 msgstr "Compiliere Suchmuster..."
 
@@ -3613,23 +3586,23 @@ msgstr "Compiliere Suchmuster..."
 msgid "Executing command on matching messages..."
 msgstr "Führe Kommando aus..."
 
-#: pattern.c:1399
+#: pattern.c:1397
 msgid "No messages matched criteria."
 msgstr "Keine Nachrichten haben Kriterium erfüllt."
 
-#: pattern.c:1481
+#: pattern.c:1479
 msgid "Searching..."
 msgstr "Suche..."
 
-#: pattern.c:1494
+#: pattern.c:1492
 msgid "Search hit bottom without finding match"
 msgstr "Suche hat Ende erreicht, ohne Treffer zu erzielen."
 
-#: pattern.c:1505
+#: pattern.c:1503
 msgid "Search hit top without finding match"
 msgstr "Suche hat Anfang erreicht, ohne Treffer zu erzielen."
 
-#: pattern.c:1537
+#: pattern.c:1535
 msgid "Search interrupted."
 msgstr "Suche unterbrochen."
 
@@ -3749,30 +3722,30 @@ msgstr "PGP (v)erschl., (s)ign., sign. (
 msgid "esabfc"
 msgstr "vsabpku"
 
-#: pgpinvoke.c:310
+#: pgpinvoke.c:309
 msgid "Fetching PGP key..."
 msgstr "Hole PGP Schlüssel..."
 
-#: pgpkey.c:492
+#: pgpkey.c:491
 msgid "All matching keys are expired, revoked, or disabled."
 msgstr ""
 "Alle passenden Schlüssel sind veraltet, zurückgezogen oder deaktiviert."
 
-#: pgpkey.c:533
+#: pgpkey.c:532
 #, c-format
 msgid "PGP keys matching <%s>."
 msgstr "PGP-Schlüssel, die zu <%s> passen."
 
-#: pgpkey.c:535
+#: pgpkey.c:534
 #, c-format
 msgid "PGP keys matching \"%s\"."
 msgstr "PGP-Schlüssel, die zu \"%s\" passen."
 
-#: pgpkey.c:554 pgpkey.c:747
+#: pgpkey.c:553 pgpkey.c:746
 msgid "Can't open /dev/null"
 msgstr "Kann /dev/null nicht öffnen"
 
-#: pgpkey.c:779
+#: pgpkey.c:778
 #, c-format
 msgid "PGP Key %s."
 msgstr "PGP Schlüssel %s."
@@ -3797,54 +3770,54 @@ msgid "%d messages have been lost. Try r
 msgstr ""
 "%d Nachrichten verloren gegangen. Versuche Sie die Mailbox neu zu öffnen."
 
-#: pop.c:411 pop.c:807
+#: pop.c:411 pop.c:801
 #, c-format
 msgid "%s is an invalid POP path"
 msgstr "%s ist ein ungültiger POP Pfad"
 
-#: pop.c:455
+#: pop.c:454
 msgid "Fetching list of messages..."
 msgstr "Hole Liste der Nachrichten..."
 
-#: pop.c:613
+#: pop.c:612
 msgid "Can't write message to temporary file!"
 msgstr "Kann Nachricht nicht in temporäre Datei schreiben!"
 
-#: pop.c:684
+#: pop.c:678
 msgid "Marking messages deleted..."
 msgstr "Markiere Nachrichten zum Löschen..."
 
-#: pop.c:762 pop.c:827
+#: pop.c:756 pop.c:821
 msgid "Checking for new messages..."
 msgstr "Prüfe auf neue Nachrichten..."
 
-#: pop.c:791
+#: pop.c:785
 msgid "POP host is not defined."
 msgstr "Es wurde kein POP-Server definiert."
 
-#: pop.c:855
+#: pop.c:849
 msgid "No new mail in POP mailbox."
 msgstr "Keine neuen Nachrichten auf dem POP-Server."
 
-#: pop.c:862
+#: pop.c:856
 msgid "Delete messages from server?"
 msgstr "Lösche Nachrichten auf dem Server?"
 
-#: pop.c:864
+#: pop.c:858
 #, c-format
 msgid "Reading new messages (%d bytes)..."
 msgstr "Lese neue Nachrichten (%d Bytes)..."
 
-#: pop.c:906
+#: pop.c:900
 msgid "Error while writing mailbox!"
 msgstr "Fehler beim Versuch, die Mailbox zu schreiben!"
 
-#: pop.c:910
+#: pop.c:904
 #, c-format
 msgid "%s [%d of %d messages read]"
 msgstr "%s [%d von %d Nachrichten gelesen]"
 
-#: pop.c:933 pop_lib.c:378
+#: pop.c:927 pop_lib.c:378
 msgid "Server closed connection!"
 msgstr "Server hat Verbindung beendet!"
 
@@ -3899,23 +3872,23 @@ msgstr "Verbindung unterbrochen. Verbind
 msgid "Postponed Messages"
 msgstr "Zurückgestelle Nachrichten"
 
-#: postpone.c:246 postpone.c:255
+#: postpone.c:245 postpone.c:254
 msgid "No postponed messages."
 msgstr "Keine zurückgestellten Nachrichten."
 
-#: postpone.c:457 postpone.c:478 postpone.c:512
+#: postpone.c:455 postpone.c:476 postpone.c:510
 msgid "Illegal crypto header"
 msgstr "Unzulässiger Crypto Header"
 
-#: postpone.c:498
+#: postpone.c:496
 msgid "Illegal S/MIME header"
 msgstr "Unzulässiger S/MIME Header"
 
-#: postpone.c:586
+#: postpone.c:584
 msgid "Decrypting message..."
 msgstr "Entschlüssle Nachricht..."
 
-#: postpone.c:594
+#: postpone.c:592
 msgid "Decryption failed."
 msgstr "Entschlüsselung gescheitert."
 
@@ -3961,71 +3934,71 @@ msgstr "Filtern"
 msgid "Print"
 msgstr "Drucke"
 
-#: recvattach.c:485
+#: recvattach.c:484
 msgid "Saving..."
 msgstr "Speichere..."
 
-#: recvattach.c:488 recvattach.c:579
+#: recvattach.c:487 recvattach.c:578
 msgid "Attachment saved."
 msgstr "Anhang gespeichert."
 
-#: recvattach.c:591
+#: recvattach.c:590
 #, c-format
 msgid "WARNING!  You are about to overwrite %s, continue?"
 msgstr "WARNUNG!  Datei %s existiert, überschreiben?"
 
-#: recvattach.c:609
+#: recvattach.c:608
 msgid "Attachment filtered."
 msgstr "Anhang gefiltert."
 
-#: recvattach.c:676
+#: recvattach.c:675
 msgid "Filter through: "
 msgstr "Filtere durch: "
 
-#: recvattach.c:676
+#: recvattach.c:675
 msgid "Pipe to: "
 msgstr "Übergebe an (pipe): "
 
-#: recvattach.c:711
+#: recvattach.c:710
 #, fuzzy, c-format
 msgid "I don't know how to print %s attachments!"
 msgstr "Kann %s Anhänge nicht drucken!"
 
-#: recvattach.c:776
+#: recvattach.c:775
 msgid "Print tagged attachment(s)?"
 msgstr "Drucke markierte Anhänge?"
 
-#: recvattach.c:776
+#: recvattach.c:775
 msgid "Print attachment?"
 msgstr "Drucke Anhang?"
 
-#: recvattach.c:1010
+#: recvattach.c:1009
 msgid "Can't decrypt encrypted message!"
 msgstr "Kann verschlüsselte Nachricht nicht entschlüsseln!"
 
-#: recvattach.c:1022
+#: recvattach.c:1021
 msgid "Attachments"
 msgstr "Anhänge"
 
-#: recvattach.c:1058
+#: recvattach.c:1057
 msgid "There are no subparts to show!"
 msgstr "Es sind keine Teile zur Anzeige vorhanden!"
 
-#: recvattach.c:1119
+#: recvattach.c:1118
 msgid "Can't delete attachment from POP server."
 msgstr "Kann Dateianhang nicht vom POP-Server löschen."
 
-#: recvattach.c:1127
+#: recvattach.c:1126
 msgid "Deletion of attachments from encrypted messages is unsupported."
 msgstr "Kann Anhänge aus verschlüsselten Nachrichten nicht löschen."
 
-#: recvattach.c:1133
+#: recvattach.c:1132
 #, fuzzy
 msgid ""
 "Deletion of attachments from signed messages may invalidate the signature."
 msgstr "Kann Anhänge aus verschlüsselten Nachrichten nicht löschen."
 
-#: recvattach.c:1150 recvattach.c:1167
+#: recvattach.c:1149 recvattach.c:1166
 msgid "Only deletion of multipart attachments is supported."
 msgstr "Kann nur aus mehrteiligen Anhängen löschen."
 
@@ -4077,69 +4050,69 @@ msgid "Can't decode all tagged attachmen
 msgstr ""
 "Nicht alle markierten Anhänge dekodierbar. MIME für den Rest verwenden?"
 
-#: remailer.c:481
+#: remailer.c:478
 msgid "Append"
 msgstr "Anhängen"
 
-#: remailer.c:482
+#: remailer.c:479
 msgid "Insert"
 msgstr "Einfügen"
 
-#: remailer.c:483
+#: remailer.c:480
 msgid "Delete"
 msgstr "Löschen"
 
-#: remailer.c:485
+#: remailer.c:482
 msgid "OK"
 msgstr "OK"
 
-#: remailer.c:512
+#: remailer.c:510
 msgid "Can't get mixmaster's type2.list!"
 msgstr "Kann die \"type2.list\" für Mixmaster nicht holen!"
 
-#: remailer.c:537
+#: remailer.c:535
 msgid "Select a remailer chain."
 msgstr "Wähle eine Remailer Kette aus."
 
-#: remailer.c:596
+#: remailer.c:595
 #, c-format
 msgid "Error: %s can't be used as the final remailer of a chain."
 msgstr ""
 "Fehler: %s kann nicht als letzter Remailer einer Kette verwendet werden."
 
-#: remailer.c:626
+#: remailer.c:625
 #, c-format
 msgid "Mixmaster chains are limited to %d elements."
 msgstr "Eine Mixmaster-Kette kann maximal %d Elemente enthalten."
 
-#: remailer.c:649
+#: remailer.c:648
 msgid "The remailer chain is already empty."
 msgstr "Die Remailer-Kette ist bereits leer."
 
-#: remailer.c:659
+#: remailer.c:658
 msgid "You already have the first chain element selected."
 msgstr "Sie haben bereits das erste Element der Kette ausgewählt."
 
-#: remailer.c:669
+#: remailer.c:668
 msgid "You already have the last chain element selected."
 msgstr "Sie haben bereits das letzte Element der Kette ausgewählt."
 
-#: remailer.c:708
+#: remailer.c:707
 msgid "Mixmaster doesn't accept Cc or Bcc headers."
 msgstr "Mixmaster unterstützt weder Cc: noch Bcc:"
 
-#: remailer.c:732
+#: remailer.c:731
 msgid ""
 "Please set the hostname variable to a proper value when using mixmaster!"
 msgstr ""
 "Setzen sie die Variable \"hostname\" richtig, wenn Sie Mixmaster verwenden!"
 
-#: remailer.c:766
+#: remailer.c:765
 #, c-format
 msgid "Error sending message, child exited %d.\n"
 msgstr "Fehler %d beim Versand der Nachricht.\n"
 
-#: remailer.c:770
+#: remailer.c:769
 msgid "Error sending message."
 msgstr "Fehler beim Versand der Nachricht."
 
@@ -4284,25 +4257,25 @@ msgstr "%s existiert nicht mehr!"
 msgid "%s isn't a regular file."
 msgstr "%s ist keine normale Datei."
 
-#: sendlib.c:1051
+#: sendlib.c:1050
 #, c-format
 msgid "Could not open %s"
 msgstr "Konnte %s nicht öffnen."
 
-#: sendlib.c:2360
+#: sendlib.c:2357
 msgid "$sendmail must be set in order to send mail."
 msgstr ""
 
-#: sendlib.c:2431
+#: sendlib.c:2428
 #, c-format
 msgid "Error sending message, child exited %d (%s)."
 msgstr "Fehler %d beim Versand der Nachricht (%s)."
 
-#: sendlib.c:2437
+#: sendlib.c:2434
 msgid "Output of the delivery process"
 msgstr "Ausgabe des Auslieferungs-Prozesses"
 
-#: sendlib.c:2611
+#: sendlib.c:2608
 #, c-format
 msgid "Bad IDN %s while preparing resent-from."
 msgstr "Ungültige IDN %s bei der Vorbereitung von Resent-From."
@@ -4326,79 +4299,79 @@ msgstr "Signal %d... Abbruch.\n"
 msgid "Enter S/MIME passphrase:"
 msgstr "S/MIME-Mantra eingeben:"
 
-#: smime.c:380
+#: smime.c:379
 msgid "Trusted   "
 msgstr "Vertr.würd"
 
-#: smime.c:383
+#: smime.c:382
 msgid "Verified  "
 msgstr "Geprüft   "
 
-#: smime.c:386
+#: smime.c:385
 msgid "Unverified"
 msgstr "Ungeprüft "
 
-#: smime.c:389
+#: smime.c:388
 msgid "Expired   "
 msgstr "Veraltet  "
 
-#: smime.c:392
+#: smime.c:391
 msgid "Revoked   "
 msgstr "Zurückgez."
 
-#: smime.c:395
+#: smime.c:394
 msgid "Invalid   "
 msgstr "Ungültig  "
 
-#: smime.c:398
+#: smime.c:397
 msgid "Unknown   "
 msgstr "Unbekannt "
 
-#: smime.c:430
+#: smime.c:429
 #, c-format
 msgid "S/MIME certificates matching \"%s\"."
 msgstr "S/MIME Zertifikate, die zu \"%s\" passen."
 
-#: smime.c:473
+#: smime.c:472
 #, fuzzy
 msgid "ID is not trusted."
 msgstr "Diese ID ist ungültig."
 
-#: smime.c:762
+#: smime.c:761
 msgid "Enter keyID: "
 msgstr "KeyID eingeben: "
 
-#: smime.c:909
+#: smime.c:908
 #, c-format
 msgid "No (valid) certificate found for %s."
 msgstr "Kein (gültiges) Zertifikat für %s gefunden."
 
-#: smime.c:962 smime.c:992 smime.c:1059 smime.c:1103 smime.c:1168 smime.c:1243
+#: smime.c:961 smime.c:991 smime.c:1058 smime.c:1102 smime.c:1167 smime.c:1242
 msgid "Error: unable to create OpenSSL subprocess!"
 msgstr "Fehler: Kann keinen OpenSSL Prozess erzeugen!"
 
-#: smime.c:1321
+#: smime.c:1320
 msgid "no certfile"
 msgstr "keine Zertifikat-Datei"
 
-#: smime.c:1324
+#: smime.c:1323
 msgid "no mbox"
 msgstr "keine Mailbox"
 
-#: smime.c:1467 smime.c:1624
+#: smime.c:1466 smime.c:1623
 msgid "No output from OpenSSL..."
 msgstr "Keine Ausgabe von OpenSSL..."
 
-#: smime.c:1534
+#: smime.c:1533
 msgid "Can't sign: No key specified. Use Sign As."
 msgstr ""
 "Kann nicht signieren: Kein Schlüssel angegeben. Verwenden Sie \"sign. als\"."
 
-#: smime.c:1586
+#: smime.c:1585
 msgid "Can't open OpenSSL subprocess!"
 msgstr "Kann OpenSSL-Unterprozess nicht erzeugen!"
 
-#: smime.c:1792 smime.c:1915
+#: smime.c:1791 smime.c:1914
 msgid ""
 "[-- End of OpenSSL output --]\n"
 "\n"
@@ -4406,19 +4379,19 @@ msgstr ""
 "[-- Ende der OpenSSL-Ausgabe --]\n"
 "\n"
 
-#: smime.c:1874 smime.c:1885
+#: smime.c:1873 smime.c:1884
 msgid "[-- Error: unable to create OpenSSL subprocess! --]\n"
 msgstr "[-- Fehler: Kann keinen OpenSSL-Unterprozess erzeugen! --]\n"
 
-#: smime.c:1919
+#: smime.c:1918
 msgid "[-- The following data is S/MIME encrypted --]\n"
 msgstr "[-- Die folgenden Daten sind S/MIME-verschlüsselt --]\n"
 
-#: smime.c:1922
+#: smime.c:1921
 msgid "[-- The following data is S/MIME signed --]\n"
 msgstr "[-- Die folgenden Daten sind S/MIME signiert --]\n"
 
-#: smime.c:1986
+#: smime.c:1985
 msgid ""
 "\n"
 "[-- End of S/MIME encrypted data. --]\n"
@@ -4426,7 +4399,7 @@ msgstr ""
 "\n"
 "[-- Ende der S/MIME-verschlüsselten Daten --]\n"
 
-#: smime.c:1988
+#: smime.c:1987
 msgid ""
 "\n"
 "[-- End of S/MIME signed data. --]\n"
@@ -4434,7 +4407,7 @@ msgstr ""
 "\n"
 "[-- Ende der S/MIME signierten Daten --]\n"
 
-#: smime.c:2110
+#: smime.c:2109
 #, fuzzy
 msgid ""
 "S/MIME (s)ign, encrypt (w)ith, sign (a)s, (c)lear, or (o)ppenc mode off? "
@@ -4445,11 +4418,11 @@ msgstr ""
 #. 'clear'.  Please use a corresponding letter in your language.
 #. Alternatively, you may duplicate the letter 'c' is translated to.
 #. This comment also applies to the two following letter sequences.
-#: smime.c:2115
+#: smime.c:2114
 msgid "swafco"
 msgstr ""
 
-#: smime.c:2124
+#: smime.c:2123
 #, fuzzy
 msgid ""
 "S/MIME (e)ncrypt, (s)ign, encrypt (w)ith, sign (a)s, (b)oth, (c)lear, or "
@@ -4457,50 +4430,50 @@ msgid ""
 msgstr ""
 "S/MIME (v)erschl., (s)ign., verschl. (m)it, sign. (a)ls, (b)eides, (k)eins? "
 
-#: smime.c:2125
+#: smime.c:2124
 #, fuzzy
 msgid "eswabfco"
 msgstr "vsmabkc"
 
-#: smime.c:2133
+#: smime.c:2132
 msgid ""
 "S/MIME (e)ncrypt, (s)ign, encrypt (w)ith, sign (a)s, (b)oth, or (c)lear? "
 msgstr ""
 "S/MIME (v)erschl., (s)ign., verschl. (m)it, sign. (a)ls, (b)eides, (k)eins? "
 
-#: smime.c:2134
+#: smime.c:2133
 msgid "eswabfc"
 msgstr "vsmabkc"
 
-#: smime.c:2155
+#: smime.c:2154
 msgid "Choose algorithm family: 1: DES, 2: RC2, 3: AES, or (c)lear? "
 msgstr "Wähle Algorithmus: 1: DES, 2: RC2, 3: AES, oder (u)nverschlüsselt? "
 
-#: smime.c:2158
+#: smime.c:2157
 msgid "drac"
 msgstr "drau"
 
-#: smime.c:2161
+#: smime.c:2160
 msgid "1: DES, 2: Triple-DES "
 msgstr "1: DES, 2: Triple-DES "
 
-#: smime.c:2162
+#: smime.c:2161
 msgid "dt"
 msgstr "dt"
 
-#: smime.c:2174
+#: smime.c:2173
 msgid "1: RC2-40, 2: RC2-64, 3: RC2-128 "
 msgstr "1: RC2-40, 2: RC2-64, 3: RC2-128 "
 
-#: smime.c:2175
+#: smime.c:2174
 msgid "468"
 msgstr "468"
 
-#: smime.c:2190
+#: smime.c:2189
 msgid "1: AES128, 2: AES192, 3: AES256 "
 msgstr "1: AES128, 2: AES192, 3: AES256 "
 
-#: smime.c:2191
+#: smime.c:2190
 msgid "895"
 msgstr "895"
 
@@ -5149,270 +5122,222 @@ msgid "print the current entry"
 msgstr "Drucke aktuellen Eintrag"
 
 #: ../keymap_alldefs.h:149
-msgid "really delete the current entry, bypassing the trash folder"
-msgstr ""
-
-#: ../keymap_alldefs.h:150
 msgid "query external program for addresses"
 msgstr "Externe Adressenabfrage"
 
-#: ../keymap_alldefs.h:151
+#: ../keymap_alldefs.h:150
 msgid "append new query results to current results"
 msgstr "Hänge neue Abfrageergebnisse an"
 
-#: ../keymap_alldefs.h:152
+#: ../keymap_alldefs.h:151
 msgid "save changes to mailbox and quit"
 msgstr "Speichere Änderungen in Mailbox und beende das Programm"
 
-#: ../keymap_alldefs.h:153
+#: ../keymap_alldefs.h:152
 msgid "recall a postponed message"
 msgstr "Bearbeite eine zurückgestellte Nachricht"
 
+#: ../keymap_alldefs.h:153
+msgid "clear and redraw the screen"
+msgstr "Erzeuge Bildschirmanzeige neu"
+
 #: ../keymap_alldefs.h:154
-msgid "clear and redraw the screen"
-msgstr "Erzeuge Bildschirmanzeige neu"
+msgid "{internal}"
+msgstr "{intern}"
 
 #: ../keymap_alldefs.h:155
-msgid "{internal}"
-msgstr "{intern}"
-
-#: ../keymap_alldefs.h:156
 msgid "rename the current mailbox (IMAP only)"
 msgstr "benenne die aktuelle Mailbox um (nur für IMAP)"
 
-#: ../keymap_alldefs.h:157
+#: ../keymap_alldefs.h:156
 msgid "reply to a message"
 msgstr "Beantworte Nachricht"
 
+#: ../keymap_alldefs.h:157
+msgid "use the current message as a template for a new one"
+msgstr "Verwende aktuelle Nachricht als Vorlage für neue Nachricht"
+
 #: ../keymap_alldefs.h:158
-msgid "use the current message as a template for a new one"
-msgstr "Verwende aktuelle Nachricht als Vorlage für neue Nachricht"
+msgid "save message/attachment to a mailbox/file"
+msgstr "Speichere Nachricht/Anhang in Mailbox/Datei"
 
 #: ../keymap_alldefs.h:159
-msgid "save message/attachment to a mailbox/file"
-msgstr "Speichere Nachricht/Anhang in Mailbox/Datei"
-
-#: ../keymap_alldefs.h:160
 msgid "search for a regular expression"
 msgstr "Suche nach regulärem Ausdruck"
 
-#: ../keymap_alldefs.h:161
+#: ../keymap_alldefs.h:160
 msgid "search backwards for a regular expression"
 msgstr "Suche rückwärts nach regulärem Ausdruck"
 
-#: ../keymap_alldefs.h:162
+#: ../keymap_alldefs.h:161
 msgid "search for next match"
 msgstr "Suche nächsten Treffer"
 
-#: ../keymap_alldefs.h:163
+#: ../keymap_alldefs.h:162
 msgid "search for next match in opposite direction"
 msgstr "Suche nächsten Treffer in umgekehrter Richtung"
 
-#: ../keymap_alldefs.h:164
+#: ../keymap_alldefs.h:163
 msgid "toggle search pattern coloring"
 msgstr "Schalte Suchtreffer-Hervorhebung ein/aus"
 
+#: ../keymap_alldefs.h:164
+msgid "invoke a command in a subshell"
+msgstr "Rufe Kommando in Shell auf"
+
 #: ../keymap_alldefs.h:165
-msgid "invoke a command in a subshell"
-msgstr "Rufe Kommando in Shell auf"
-
-#: ../keymap_alldefs.h:166
 msgid "sort messages"
 msgstr "Sortiere Nachrichten"
 
-#: ../keymap_alldefs.h:167
+#: ../keymap_alldefs.h:166
 msgid "sort messages in reverse order"
 msgstr "Sortiere Nachrichten in umgekehrter Reihenfolge"
 
-#: ../keymap_alldefs.h:168
+#: ../keymap_alldefs.h:167
 msgid "tag the current entry"
 msgstr "Markiere aktuellen Eintrag"
 
-#: ../keymap_alldefs.h:169
+#: ../keymap_alldefs.h:168
 msgid "apply next function to tagged messages"
 msgstr "Wende nächste Funktion auf markierte Nachrichten an"
 
-#: ../keymap_alldefs.h:170
+#: ../keymap_alldefs.h:169
 msgid "apply next function ONLY to tagged messages"
 msgstr "Wende nächste Funktion NUR auf markierte Nachrichten an"
 
-#: ../keymap_alldefs.h:171
+#: ../keymap_alldefs.h:170
 msgid "tag the current subthread"
 msgstr "Markiere aktuellen Diskussionsfadenteil"
 
-#: ../keymap_alldefs.h:172
+#: ../keymap_alldefs.h:171
 msgid "tag the current thread"
 msgstr "Markiere aktuellen Diskussionsfaden"
 
+#: ../keymap_alldefs.h:172
+msgid "toggle a message's 'new' flag"
+msgstr "Setze/entferne den \"neu\"-Indikator einer Nachricht"
+
 #: ../keymap_alldefs.h:173
-msgid "toggle a message's 'new' flag"
-msgstr "Setze/entferne den \"neu\"-Indikator einer Nachricht"
-
-#: ../keymap_alldefs.h:174
 msgid "toggle whether the mailbox will be rewritten"
 msgstr "Schalte Sichern von Änderungen ein/aus"
 
-#: ../keymap_alldefs.h:175
+#: ../keymap_alldefs.h:174
 msgid "toggle whether to browse mailboxes or all files"
 msgstr "Schalte zwischen Mailboxen und allen Dateien um"
 
-#: ../keymap_alldefs.h:176
+#: ../keymap_alldefs.h:175
 msgid "move to the top of the page"
 msgstr "Springe zum Anfang der Seite"
 
+#: ../keymap_alldefs.h:176
+msgid "undelete the current entry"
+msgstr "Entferne Löschmarkierung vom aktuellen Eintrag"
+
 #: ../keymap_alldefs.h:177
-msgid "undelete the current entry"
-msgstr "Entferne Löschmarkierung vom aktuellen Eintrag"
+msgid "undelete all messages in thread"
+msgstr "Entferne Löschmarkierung von allen Nachrichten im Diskussionsfaden"
 
 #: ../keymap_alldefs.h:178
-msgid "undelete all messages in thread"
-msgstr "Entferne Löschmarkierung von allen Nachrichten im Diskussionsfaden"
+msgid "undelete all messages in subthread"
+msgstr "Entferne Löschmarkierung von allen Nachrichten im Diskussionsfadenteil"
 
 #: ../keymap_alldefs.h:179
-msgid "undelete all messages in subthread"
-msgstr "Entferne Löschmarkierung von allen Nachrichten im Diskussionsfadenteil"
+msgid "show the Mutt version number and date"
+msgstr "Zeige Versionsnummer an"
 
 #: ../keymap_alldefs.h:180
-msgid "show the Mutt version number and date"
-msgstr "Zeige Versionsnummer an"
+msgid "view attachment using mailcap entry if necessary"
+msgstr "Zeige Anhang, wenn nötig via Mailcap"
 
 #: ../keymap_alldefs.h:181
-msgid "view attachment using mailcap entry if necessary"
-msgstr "Zeige Anhang, wenn nötig via Mailcap"
+msgid "show MIME attachments"
+msgstr "Zeige MIME-Anhänge"
 
 #: ../keymap_alldefs.h:182
-msgid "show MIME attachments"
-msgstr "Zeige MIME-Anhänge"
+msgid "display the keycode for a key press"
+msgstr "Zeige Tastatur-Code einer Taste"
 
 #: ../keymap_alldefs.h:183
-msgid "display the keycode for a key press"
-msgstr "Zeige Tastatur-Code einer Taste"
+msgid "show currently active limit pattern"
+msgstr "Zeige derzeit aktives Begrenzungsmuster"
 
 #: ../keymap_alldefs.h:184
-msgid "show currently active limit pattern"
-msgstr "Zeige derzeit aktives Begrenzungsmuster"
+msgid "collapse/uncollapse current thread"
+msgstr "Kollabiere/expandiere aktuellen Diskussionsfaden"
 
 #: ../keymap_alldefs.h:185
-msgid "collapse/uncollapse current thread"
-msgstr "Kollabiere/expandiere aktuellen Diskussionsfaden"
-
-#: ../keymap_alldefs.h:186
 msgid "collapse/uncollapse all threads"
 msgstr "Kollabiere/expandiere alle Diskussionsfäden"
 
+#: ../keymap_alldefs.h:186
+msgid "attach a PGP public key"
+msgstr "Hänge öffentlichen PGP-Schlüssel an"
+
 #: ../keymap_alldefs.h:187
-msgid "move the highlight to next mailbox"
-msgstr ""
+msgid "show PGP options"
+msgstr "Zeige PGP-Optionen"
 
 #: ../keymap_alldefs.h:188
-#, fuzzy
-msgid "move the highlight to next mailbox with new mail"
-msgstr "Öffne nächste Mailbox mit neuen Nachrichten"
+msgid "mail a PGP public key"
+msgstr "Verschicke öffentlichen PGP-Schlüssel"
 
 #: ../keymap_alldefs.h:189
-#, fuzzy
-msgid "open highlighted mailbox"
-msgstr "Öffne Mailbox erneut..."
+msgid "verify a PGP public key"
+msgstr "Prüfe öffentlichen PGP-Schlüssel"
 
 #: ../keymap_alldefs.h:190
-#, fuzzy
-msgid "scroll the sidebar down 1 page"
-msgstr "Gehe 1/2 Seite nach unten"
+msgid "view the key's user id"
+msgstr "Zeige Nutzer-ID zu Schlüssel an"
 
 #: ../keymap_alldefs.h:191
-#, fuzzy
-msgid "scroll the sidebar up 1 page"
-msgstr "Gehe 1/2 Seite nach oben"
+msgid "check for classic PGP"
+msgstr "Suche nach klassischem PGP"
 
 #: ../keymap_alldefs.h:192
-#, fuzzy
-msgid "move the highlight to previous mailbox"
-msgstr "Gehe zur vorigen Seite"
+msgid "Accept the chain constructed"
+msgstr "Akzeptiere die erstellte Kette"
 
 #: ../keymap_alldefs.h:193
-#, fuzzy
-msgid "move the highlight to previous mailbox with new mail"
-msgstr "Öffne nächste Mailbox mit neuen Nachrichten"
+msgid "Append a remailer to the chain"
+msgstr "Hänge einen Remailer an die Kette an"
 
 #: ../keymap_alldefs.h:194
-msgid "make the sidebar (in)visible"
-msgstr ""
+msgid "Insert a remailer into the chain"
+msgstr "Füge einen Remailer in die Kette ein"
 
 #: ../keymap_alldefs.h:195
-msgid "attach a PGP public key"
-msgstr "Hänge öffentlichen PGP-Schlüssel an"
+msgid "Delete a remailer from the chain"
+msgstr "Lösche einen Remailer aus der Kette"
 
 #: ../keymap_alldefs.h:196
-msgid "show PGP options"
-msgstr "Zeige PGP-Optionen"
+msgid "Select the previous element of the chain"
+msgstr "Wähle das vorhergehende Element der Kette aus"
 
 #: ../keymap_alldefs.h:197
-msgid "mail a PGP public key"
-msgstr "Verschicke öffentlichen PGP-Schlüssel"
+msgid "Select the next element of the chain"
+msgstr "Wähle das nächste Element der Kette aus"
 
 #: ../keymap_alldefs.h:198
-msgid "verify a PGP public key"
-msgstr "Prüfe öffentlichen PGP-Schlüssel"
+msgid "send the message through a mixmaster remailer chain"
+msgstr "Verschicke die Nachricht über eine Mixmaster Remailer Kette"
 
 #: ../keymap_alldefs.h:199
-msgid "view the key's user id"
-msgstr "Zeige Nutzer-ID zu Schlüssel an"
+msgid "make decrypted copy and delete"
+msgstr "Erzeuge dechiffrierte Kopie und lösche"
 
 #: ../keymap_alldefs.h:200
-msgid "check for classic PGP"
-msgstr "Suche nach klassischem PGP"
+msgid "make decrypted copy"
+msgstr "Erzeuge dechiffrierte Kopie"
 
 #: ../keymap_alldefs.h:201
-#, fuzzy
-msgid "accept the chain constructed"
-msgstr "Akzeptiere die erstellte Kette"
+msgid "wipe passphrase(s) from memory"
+msgstr "Entferne Mantra(s) aus Speicher"
 
 #: ../keymap_alldefs.h:202
-#, fuzzy
-msgid "append a remailer to the chain"
-msgstr "Hänge einen Remailer an die Kette an"
+msgid "extract supported public keys"
+msgstr "Extrahiere unterstützte öffentliche Schlüssel"
 
 #: ../keymap_alldefs.h:203
-#, fuzzy
-msgid "insert a remailer into the chain"
-msgstr "Füge einen Remailer in die Kette ein"
-
-#: ../keymap_alldefs.h:204
-#, fuzzy
-msgid "delete a remailer from the chain"
-msgstr "Lösche einen Remailer aus der Kette"
-
-#: ../keymap_alldefs.h:205
-#, fuzzy
-msgid "select the previous element of the chain"
-msgstr "Wähle das vorhergehende Element der Kette aus"
-
-#: ../keymap_alldefs.h:206
-#, fuzzy
-msgid "select the next element of the chain"
-msgstr "Wähle das nächste Element der Kette aus"
-
-#: ../keymap_alldefs.h:207
-msgid "send the message through a mixmaster remailer chain"
-msgstr "Verschicke die Nachricht über eine Mixmaster Remailer Kette"
-
-#: ../keymap_alldefs.h:208
-msgid "make decrypted copy and delete"
-msgstr "Erzeuge dechiffrierte Kopie und lösche"
-
-#: ../keymap_alldefs.h:209
-msgid "make decrypted copy"
-msgstr "Erzeuge dechiffrierte Kopie"
-
-#: ../keymap_alldefs.h:210
-msgid "wipe passphrase(s) from memory"
-msgstr "Entferne Mantra(s) aus Speicher"
-
-#: ../keymap_alldefs.h:211
-msgid "extract supported public keys"
-msgstr "Extrahiere unterstützte öffentliche Schlüssel"
-
-#: ../keymap_alldefs.h:212
 msgid "show S/MIME options"
 msgstr "Zeige S/MIME Optionen"
 
@@ -5473,6 +5398,40 @@ msgstr "Zeige S/MIME Optionen"
 #~ msgid "Warning: Intermediate certificate not found."
 #~ msgstr "Warnung: Zwischenzertifikat nicht gefunden."
 
+#: compress.c:228 compress.c:253
+#, c-format
+msgid "Decompressing %s...\n"
+msgstr "Entpacke %s...\n"
+
+#: compress.c:264
+#, c-format
+msgid "Error executing: %s : unable to open the mailbox!\n"
+msgstr "Fehler beim Ausführen von %s : Kann die Mailbox nicht öffnen!\n"
+
+#: compress.c:350 compress.c:377 compress.c:423 compress.c:454
+#, c-format
+msgid "Compressing %s...\n"
+msgstr "Komprimiere %s...\n"
+
+#: compress.c:381
+#, c-format
+msgid ""
+"%s: Error compressing mailbox! Original mailbox deleted, uncompressed one "
+"kept!\n"
+msgstr ""
+"%s: Fehler beim Komprimieren der Mailbox! Ursprüngliche Mailbox gelöscht, "
+"entpackte gespeichert!\n"
+
+#: compress.c:425 compress.c:456
+#, c-format
+msgid "Compressed-appending to %s...\n"
+msgstr "Hänge komprimiert an %s... an\n"
+
+#: compress.c:461
+#, c-format
+msgid " %s: Error compressing mailbox!  Uncompressed one kept!\n"
+msgstr " %s: Fehler beim packen der Mailbox! Entpackte Mailbox gespeichert!\n"
+
 #~ msgid "Clear"
 #~ msgstr "Klartext"
 
diff -r a0c62e12a105 -r 885f1d7126a4 status.c
--- a/status.c	Mon Feb 01 01:04:48 2016 +0000
+++ b/status.c	Tue Jan 26 18:31:05 2016 +0000
@@ -96,6 +96,12 @@ status_format_str (char *buf, size_t buf
 
     case 'f':
       snprintf (fmt, sizeof(fmt), "%%%ss", prefix);
+#ifdef USE_COMPRESSED
+      if (Context && Context->compress_info && Context->realpath) {
+	 strfcpy (tmp, Context->realpath, sizeof (tmp));
+	 mutt_pretty_mailbox (tmp, sizeof (tmp));
+      } else
+#endif
       if (Context && Context->path)
       {
 	strfcpy (tmp, Context->path, sizeof (tmp));
diff -r a0c62e12a105 -r 885f1d7126a4 version.c
--- a/version.c	Mon Feb 01 01:04:48 2016 +0000
+++ b/version.c	Tue Jan 26 18:31:05 2016 +0000
@@ -221,6 +221,11 @@ static struct compile_options comp_opts[
 #else
 	{ "HAVE_TYPEAHEAD", 0 },
 #endif
+#ifdef USE_COMPRESSED
+	{ "USE_COMPRESSED", 1 },
+#else
+	{ "USE_COMPRESSED", 0 },
+#endif
 #ifdef HAVE_WC_FUNCS
 	{ "HAVE_WC_FUNCS", 1 },
 #else
